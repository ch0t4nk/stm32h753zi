<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>STM32H753ZI Motor Control System: STATUS.md Automation System</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">STM32H753ZI Motor Control System
   &#160;<span id="projectnumber">v1.0.0</span>
   </div>
   <div id="projectbrief">Advanced stepper motor control with X-CUBE-SPN2 and safety systems</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "../../search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('../../',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">STATUS.md Automation System </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>Automated maintenance system for project status tracking and GitHub Copilot context optimization.</p>
<h1>Overview</h1>
<p>The STATUS.md automation system keeps the project status file current with real-time information about build status, code progress, git activity, and development metrics. This ensures GitHub Copilot always has accurate context for optimal assistance.</p>
<h1>Features</h1>
<h2>Phase 1 (Implemented)</h2>
<ul>
<li>âœ… <b>Automatic Timestamp Updates</b>: Current date for last updated field</li>
<li>âœ… <b>Build Metrics Analysis</b>: Binary size, flash usage, build status</li>
<li>âœ… <b>Git Commit Analysis</b>: Categorizes recent commits by type (features, fixes, docs, tests)</li>
<li>âœ… <b>Code Status Analysis</b>: TODO count, driver implementation status, file metrics</li>
<li>âœ… <b>Architecture Status Updates</b>: Driver progress tracking</li>
<li>âœ… <b>Format Validation</b>: Ensures STATUS.md structure integrity</li>
<li>âœ… <b>VS Code Task Integration</b>: Manual and automated triggers</li>
</ul>
<h2>Future Phases</h2>
<ul>
<li>ðŸ”„ <b>Phase 2</b>: CMake build hooks for automatic post-build updates</li>
<li>ðŸ”„ <b>Phase 3</b>: Git hooks for commit-triggered updates and intelligent scheduling</li>
</ul>
<h1>Usage</h1>
<h2>Command Line Interface</h2>
<div class="fragment"><div class="line"># Manual update with detailed output</div>
<div class="line">python3 scripts/auto_update_status.py --verbose</div>
<div class="line"> </div>
<div class="line"># Preview changes without writing</div>
<div class="line">python3 scripts/auto_update_status.py --dry-run --verbose</div>
<div class="line"> </div>
<div class="line"># Update triggered by build system</div>
<div class="line">python3 scripts/auto_update_status.py --source build</div>
<div class="line"> </div>
<div class="line"># Force update even if no changes detected</div>
<div class="line">python3 scripts/auto_update_status.py --force --verbose</div>
</div><!-- fragment --><h2>VS Code Tasks</h2>
<p>Use <code>Ctrl+Shift+P</code> â†’ <code>Tasks: Run Task</code> and select:</p>
<ul>
<li><b>Update STATUS.md</b>: Manual update with full output</li>
<li><b>Update STATUS.md (Preview)</b>: Dry-run mode to preview changes</li>
<li><b>Update STATUS.md (Build Triggered)</b>: Silent update after builds</li>
<li><b>Build with Status Update</b>: Build project and auto-update status</li>
</ul>
<h2>Automation Examples</h2>
<div class="fragment"><div class="line"># Daily development workflow</div>
<div class="line">python3 scripts/auto_update_status.py --verbose</div>
<div class="line"> </div>
<div class="line"># CI/CD integration</div>
<div class="line">python3 scripts/auto_update_status.py --source build</div>
<div class="line"> </div>
<div class="line"># Status health check</div>
<div class="line">python3 scripts/auto_update_status.py --dry-run</div>
</div><!-- fragment --><h1>Technical Architecture</h1>
<h2>Core Components</h2>
<p><b>StatusUpdater Class</b>: Main automation engine with methods for:</p><ul>
<li><code>update_timestamp()</code>: Current date tracking</li>
<li><code>update_build_metrics()</code>: ELF analysis, flash usage calculation</li>
<li><code>analyze_recent_commits()</code>: Git log parsing and categorization</li>
<li><code>analyze_code_status()</code>: Source code analysis and TODO tracking</li>
<li><code>update_architecture_status()</code>: Driver progress updates</li>
<li><code>validate_format()</code>: STATUS.md structure validation</li>
</ul>
<p><b>Data Sources</b>:</p><ul>
<li>Build artifacts: <code>build/stm32h753_ihm02a1.elf</code></li>
<li>Git history: Last 5 commits with semantic categorization</li>
<li>Source code: <code>src/**/*.{c,h}</code> files for TODO analysis</li>
<li>Driver status: Implementation progress tracking</li>
</ul>
<h2>Metrics Tracked</h2>
<p><b>Build Metrics</b>:</p><ul>
<li>Binary size (KB)</li>
<li>Flash usage percentage (2MB total)</li>
<li>Build success/failure status</li>
</ul>
<p><b>Code Metrics</b>:</p><ul>
<li>Total source files (C and H)</li>
<li>TODO comment count and samples</li>
<li>Driver implementation status</li>
<li>Function count per driver</li>
</ul>
<p><b>Git Activity</b>:</p><ul>
<li>Recent commits categorized by type:<ul>
<li>Features: <code>feat:</code>, <code>implement</code>, <code>add</code>, <code>create</code></li>
<li>Fixes: <code>fix:</code>, <code>bug</code>, <code>correct</code>, <code>resolve</code></li>
<li>Documentation: <code>docs:</code>, <code>readme</code>, <code>documentation</code></li>
<li>Tests: <code>test:</code>, <code>spec</code>, <code>coverage</code>, <code>unittest</code></li>
</ul>
</li>
</ul>
<h2>Integration Points</h2>
<p><b>VS Code Tasks</b>: Integrated with <code>.vscode/tasks.json</code></p><ul>
<li>Manual triggers via Command Palette</li>
<li>Silent post-build updates</li>
<li>Preview mode for validation</li>
</ul>
<p><b>Build System</b>: Ready for CMake integration</p><ul>
<li>Post-build hooks (Phase 2)</li>
<li>Automatic metric extraction</li>
<li>Build status monitoring</li>
</ul>
<p><b>Git Workflow</b>: Prepared for git hooks</p><ul>
<li>Commit-triggered updates (Phase 3)</li>
<li>Branch-aware status tracking</li>
<li>Intelligent update scheduling</li>
</ul>
<h1>Configuration</h1>
<h2>Environment Variables</h2>
<div class="fragment"><div class="line"># Override workspace location</div>
<div class="line">export WORKSPACE_ROOT=&quot;/custom/path&quot;</div>
<div class="line"> </div>
<div class="line"># Control verbosity</div>
<div class="line">export STATUS_VERBOSE=true</div>
</div><!-- fragment --><h2>Customization Options</h2>
<p><b>Update Triggers</b>:</p><ul>
<li><code>manual</code>: Developer-initiated updates</li>
<li><code>build</code>: Post-build automation</li>
<li><code>git</code>: Git commit triggers (future)</li>
</ul>
<p><b>Output Modes</b>:</p><ul>
<li>Normal: Write changes to STATUS.md</li>
<li>Dry-run: Preview changes only</li>
<li>Verbose: Detailed operation logging</li>
</ul>
<h1>Safety Features</h1>
<p><b>Format Validation</b>: Ensures STATUS.md structure integrity</p><ul>
<li>Required section presence checking</li>
<li>Markdown format validation</li>
<li>Backup handling for failed updates</li>
</ul>
<p><b>Error Handling</b>: Robust error handling for:</p><ul>
<li>Missing build artifacts</li>
<li>Git repository issues</li>
<li>File permission problems</li>
<li>Invalid STATUS.md format</li>
</ul>
<p><b>Rollback Capability</b>: Original content preservation</p><ul>
<li>Changes only applied if validation passes</li>
<li>Detailed error reporting for troubleshooting</li>
<li>Dry-run mode for safe testing</li>
</ul>
<h1>Development Guidelines</h1>
<h2>Adding New Metrics</h2>
<ol type="1">
<li><b>Extend StatusUpdater class</b>: <div class="fragment"><div class="line">def analyze_new_metric(self) -&gt; Dict:</div>
<div class="line">    # Implementation</div>
<div class="line">    return {&quot;metric_name&quot;: value}</div>
</div><!-- fragment --></li>
<li><b>Update run_update() method</b>: <div class="fragment"><div class="line">new_data = self.analyze_new_metric()</div>
<div class="line">content = self.update_section_with_new_data(content, new_data)</div>
</div><!-- fragment --></li>
<li><b>Add format validation</b>: <div class="fragment"><div class="line">def validate_format(self, content: str) -&gt; bool:</div>
<div class="line">    # Add new section validation</div>
</div><!-- fragment --></li>
</ol>
<h2>Testing Changes</h2>
<div class="fragment"><div class="line"># Test with dry-run mode</div>
<div class="line">python3 scripts/auto_update_status.py --dry-run --verbose</div>
<div class="line"> </div>
<div class="line"># Test specific trigger sources</div>
<div class="line">python3 scripts/auto_update_status.py --source build --dry-run</div>
<div class="line"> </div>
<div class="line"># Validate format after changes</div>
<div class="line">python3 scripts/auto_update_status.py --force --dry-run</div>
</div><!-- fragment --><h1>Phase 2 Preview: Build Integration</h1>
<p><b>Planned Features</b>:</p><ul>
<li>CMake custom targets for automatic updates</li>
<li>Build timing analysis</li>
<li>Compilation error tracking</li>
<li>Memory map analysis</li>
</ul>
<p><b>Implementation Strategy</b>: </p><div class="fragment"><div class="line"># CMakeLists.txt integration</div>
<div class="line">add_custom_target(update_status ALL</div>
<div class="line">    COMMAND python3 scripts/auto_update_status.py --source build</div>
<div class="line">    DEPENDS stm32h753_ihm02a1.elf</div>
<div class="line">    COMMENT &quot;Updating STATUS.md with build metrics&quot;</div>
<div class="line">)</div>
</div><!-- fragment --><h1>Phase 3 Preview: Intelligence &amp; Git Integration</h1>
<p><b>Planned Features</b>:</p><ul>
<li>Git pre-commit and post-commit hooks</li>
<li>Intelligent update scheduling (avoid spam)</li>
<li>Progress milestone detection</li>
<li>Development velocity metrics</li>
</ul>
<p><b>Smart Scheduling</b>:</p><ul>
<li>Update frequency limits (max once per hour for routine changes)</li>
<li>Force updates for milestone commits</li>
<li>Batch updates for related changes</li>
</ul>
<h1>Troubleshooting</h1>
<h2>Common Issues</h2>
<p><b>Permission Errors</b>: </p><div class="fragment"><div class="line">chmod +x scripts/auto_update_status.py</div>
</div><!-- fragment --><p><b>Missing Dependencies</b>: </p><div class="fragment"><div class="line"># Verify Python environment</div>
<div class="line">python3 --version</div>
<div class="line">which python3</div>
</div><!-- fragment --><p><b>Git Issues</b>: </p><div class="fragment"><div class="line"># Verify git repository</div>
<div class="line">git status</div>
<div class="line">git log --oneline -5</div>
</div><!-- fragment --><h2>Debug Mode</h2>
<div class="fragment"><div class="line"># Enable maximum verbosity</div>
<div class="line">python3 scripts/auto_update_status.py --verbose --force --dry-run</div>
</div><!-- fragment --><h2>Log Analysis</h2>
<p>The automation system provides detailed logging when <code>--verbose</code> is enabled:</p><ul>
<li>Timestamp: Update timing information</li>
<li>Build Metrics: Binary analysis results</li>
<li>Git Analysis: Commit categorization details</li>
<li>Code Analysis: Source code scanning results</li>
<li>Format Validation: Structure checking results</li>
</ul>
<h1>Integration with GitHub Copilot</h1>
<p>The automation system specifically optimizes STATUS.md for GitHub Copilot context:</p>
<p><b>Current Work Tracking</b>: Always-current list of active development items <b>Next Steps Clarity</b>: Clear priorities for Copilot suggestions <b>Architecture Status</b>: Component completion status for relevant code suggestions <b>Metrics Visibility</b>: Build and code health for optimization suggestions</p>
<p>This ensures Copilot has accurate, up-to-date context for every development session.</p>
<hr  />
<p><b>Author</b>: STM32H753ZI Development Team <br  />
 <b>Created</b>: August 5, 2025 <br  />
 <b>Status</b>: Phase 1 Complete, Phase 2 Planning </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Mon Aug 11 2025 23:51:12 for STM32H753ZI Motor Control System by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="../../doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1
</small></address>
</body>
</html>
