<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>STM32H753ZI Motor Control System: src/communication/comm_protocol.h Source File</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">STM32H753ZI Motor Control System
   &#160;<span id="projectnumber">v1.0.0</span>
   </div>
   <div id="projectbrief">Advanced stepper motor control with X-CUBE-SPN2 and safety systems</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "../../search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('../../',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="../../dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="../../dir_6d2104db64b91953bbd7b8fedbb8a094.html">communication</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">comm_protocol.h</div>  </div>
</div><!--header-->
<div class="contents">
<a href="../../dc/d81/comm__protocol_8h.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160; </div>
<div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="preprocessor">#ifndef COMM_PROTOCOL_H</span></div>
<div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="preprocessor">#define COMM_PROTOCOL_H</span></div>
<div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160; </div>
<div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d3/d88/comm__config_8h.html">config/comm_config.h</a>&quot;</span></div>
<div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d3/d5c/safety__config_8h.html">config/safety_config.h</a>&quot;</span></div>
<div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d3/ddc/data__types_8h.html">common/data_types.h</a>&quot;</span></div>
<div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d2/db6/safety__system_8h.html">safety/safety_system.h</a>&quot;</span></div>
<div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;<span class="preprocessor">#include &quot;stm32h7xx_hal.h&quot;</span></div>
<div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;<span class="preprocessor">#include &lt;stdint.h&gt;</span></div>
<div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;<span class="preprocessor">#include &lt;stdbool.h&gt;</span></div>
<div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160; </div>
<div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;<span class="comment">/* ========================================================================== */</span></div>
<div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;<span class="comment">/* Communication Protocol Types (following comms.instructions.md)           */</span></div>
<div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;<span class="comment">/* ========================================================================== */</span></div>
<div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160; </div>
<div class="line"><a name="l00032"></a><span class="lineno"><a class="line" href="../../dc/d81/comm__protocol_8h.html#a1aa340d3873065f38cc54c515994a021">   32</a></span>&#160;<span class="keyword">typedef</span> <span class="keyword">enum</span> {</div>
<div class="line"><a name="l00033"></a><span class="lineno"><a class="line" href="../../dc/d81/comm__protocol_8h.html#a1aa340d3873065f38cc54c515994a021ac12bed4e23956c5746b51ee3c47652ab">   33</a></span>&#160;    <a class="code" href="../../dc/d81/comm__protocol_8h.html#a1aa340d3873065f38cc54c515994a021ac12bed4e23956c5746b51ee3c47652ab">COMM_LAYER_PHYSICAL</a>,     </div>
<div class="line"><a name="l00034"></a><span class="lineno"><a class="line" href="../../dc/d81/comm__protocol_8h.html#a1aa340d3873065f38cc54c515994a021a44849bb7c6c1d03258bbd5d59da00d1e">   34</a></span>&#160;    <a class="code" href="../../dc/d81/comm__protocol_8h.html#a1aa340d3873065f38cc54c515994a021a44849bb7c6c1d03258bbd5d59da00d1e">COMM_LAYER_DATALINK</a>,     </div>
<div class="line"><a name="l00035"></a><span class="lineno"><a class="line" href="../../dc/d81/comm__protocol_8h.html#a1aa340d3873065f38cc54c515994a021a698707d858eb3cbed78bd6aaae9d79ba">   35</a></span>&#160;    <a class="code" href="../../dc/d81/comm__protocol_8h.html#a1aa340d3873065f38cc54c515994a021a698707d858eb3cbed78bd6aaae9d79ba">COMM_LAYER_NETWORK</a>,      </div>
<div class="line"><a name="l00036"></a><span class="lineno"><a class="line" href="../../dc/d81/comm__protocol_8h.html#a1aa340d3873065f38cc54c515994a021a64920ae3d048af0ada8e4820fca92cb1">   36</a></span>&#160;    <a class="code" href="../../dc/d81/comm__protocol_8h.html#a1aa340d3873065f38cc54c515994a021a64920ae3d048af0ada8e4820fca92cb1">COMM_LAYER_TRANSPORT</a>,    </div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;    <a class="code" href="../../dc/d81/comm__protocol_8h.html#a1aa340d3873065f38cc54c515994a021a521f81dec5d0000a36a18955d6f3e5d2">COMM_LAYER_APPLICATION</a>   </div>
<div class="line"><a name="l00038"></a><span class="lineno"><a class="line" href="../../dc/d81/comm__protocol_8h.html#a1aa340d3873065f38cc54c515994a021a521f81dec5d0000a36a18955d6f3e5d2">   38</a></span>&#160;} <a class="code" href="../../dc/d81/comm__protocol_8h.html#a1aa340d3873065f38cc54c515994a021">CommLayer_t</a>;</div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160; </div>
<div class="line"><a name="l00043"></a><span class="lineno"><a class="line" href="../../dc/d81/comm__protocol_8h.html#a340f79521457a0301eed2325c7f72d79">   43</a></span>&#160;<span class="keyword">typedef</span> <span class="keyword">enum</span> {</div>
<div class="line"><a name="l00044"></a><span class="lineno"><a class="line" href="../../dc/d81/comm__protocol_8h.html#a340f79521457a0301eed2325c7f72d79aa86e1ffd39408ae0a5b47a018a7c314f">   44</a></span>&#160;    <a class="code" href="../../dc/d81/comm__protocol_8h.html#a340f79521457a0301eed2325c7f72d79aa86e1ffd39408ae0a5b47a018a7c314f">PROTOCOL_UART_ASCII</a>,     </div>
<div class="line"><a name="l00045"></a><span class="lineno"><a class="line" href="../../dc/d81/comm__protocol_8h.html#a340f79521457a0301eed2325c7f72d79a9cf3f6e2c6403cb6a92cfe4d637d1d9a">   45</a></span>&#160;    <a class="code" href="../../dc/d81/comm__protocol_8h.html#a340f79521457a0301eed2325c7f72d79a9cf3f6e2c6403cb6a92cfe4d637d1d9a">PROTOCOL_UART_BINARY</a>,    </div>
<div class="line"><a name="l00046"></a><span class="lineno"><a class="line" href="../../dc/d81/comm__protocol_8h.html#a340f79521457a0301eed2325c7f72d79aa279acee5fae6d65fde7e4bcff0999a2">   46</a></span>&#160;    <a class="code" href="../../dc/d81/comm__protocol_8h.html#a340f79521457a0301eed2325c7f72d79aa279acee5fae6d65fde7e4bcff0999a2">PROTOCOL_CAN_MOTOR</a>,      </div>
<div class="line"><a name="l00047"></a><span class="lineno"><a class="line" href="../../dc/d81/comm__protocol_8h.html#a340f79521457a0301eed2325c7f72d79aeeae78b80ff26c19998c851897c3402f">   47</a></span>&#160;    <a class="code" href="../../dc/d81/comm__protocol_8h.html#a340f79521457a0301eed2325c7f72d79aeeae78b80ff26c19998c851897c3402f">PROTOCOL_SPI_L6470</a>,      </div>
<div class="line"><a name="l00048"></a><span class="lineno"><a class="line" href="../../dc/d81/comm__protocol_8h.html#a340f79521457a0301eed2325c7f72d79a65288caed41fcf7af33a05cc50e20a6d">   48</a></span>&#160;    <a class="code" href="../../dc/d81/comm__protocol_8h.html#a340f79521457a0301eed2325c7f72d79a65288caed41fcf7af33a05cc50e20a6d">PROTOCOL_I2C_AS5600</a>,     </div>
<div class="line"><a name="l00049"></a><span class="lineno"><a class="line" href="../../dc/d81/comm__protocol_8h.html#a340f79521457a0301eed2325c7f72d79a9654d5ef90b2554fe46c83f35601d688">   49</a></span>&#160;    <a class="code" href="../../dc/d81/comm__protocol_8h.html#a340f79521457a0301eed2325c7f72d79a9654d5ef90b2554fe46c83f35601d688">PROTOCOL_ETHERNET_UDP</a>,   </div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;    <a class="code" href="../../dc/d81/comm__protocol_8h.html#a340f79521457a0301eed2325c7f72d79a4749920c397a74e47b6c0be3788fd996">PROTOCOL_ETHERNET_TCP</a>    </div>
<div class="line"><a name="l00051"></a><span class="lineno"><a class="line" href="../../dc/d81/comm__protocol_8h.html#a340f79521457a0301eed2325c7f72d79a4749920c397a74e47b6c0be3788fd996">   51</a></span>&#160;} <a class="code" href="../../dc/d81/comm__protocol_8h.html#a340f79521457a0301eed2325c7f72d79">CommProtocol_t</a>;</div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160; </div>
<div class="line"><a name="l00056"></a><span class="lineno"><a class="line" href="../../dd/d3f/struct____attribute____.html">   56</a></span>&#160;<span class="keyword">typedef</span> <span class="keyword">struct </span>{</div>
<div class="line"><a name="l00057"></a><span class="lineno"><a class="line" href="../../dd/d3f/struct____attribute____.html#a355adfb4bf7d1cdba8e744e8f8a911ce">   57</a></span>&#160;    uint32_t <a class="code" href="../../dd/d3f/struct____attribute____.html#a355adfb4bf7d1cdba8e744e8f8a911ce">magic</a>;          </div>
<div class="line"><a name="l00058"></a><span class="lineno"><a class="line" href="../../dd/d3f/struct____attribute____.html#a32d55f9924adc73f0c73bb3077849cc9">   58</a></span>&#160;    uint16_t <a class="code" href="../../dd/d3f/struct____attribute____.html#a32d55f9924adc73f0c73bb3077849cc9">message_id</a>;     </div>
<div class="line"><a name="l00059"></a><span class="lineno"><a class="line" href="../../dd/d3f/struct____attribute____.html#a12d6ff0210e1075cbc88708f28e9fb8b">   59</a></span>&#160;    uint16_t <a class="code" href="../../dd/d3f/struct____attribute____.html#a12d6ff0210e1075cbc88708f28e9fb8b">payload_length</a>; </div>
<div class="line"><a name="l00060"></a><span class="lineno"><a class="line" href="../../dd/d3f/struct____attribute____.html#affbab77e53871117ebed1abd5557d5fa">   60</a></span>&#160;    uint8_t <a class="code" href="../../dd/d3f/struct____attribute____.html#affbab77e53871117ebed1abd5557d5fa">protocol_type</a>;   </div>
<div class="line"><a name="l00061"></a><span class="lineno"><a class="line" href="../../dd/d3f/struct____attribute____.html#a4165fcb6117b16f6f70dd3b031cc21ac">   61</a></span>&#160;    uint8_t <a class="code" href="../../dd/d3f/struct____attribute____.html#a4165fcb6117b16f6f70dd3b031cc21ac">priority</a>;        </div>
<div class="line"><a name="l00062"></a><span class="lineno"><a class="line" href="../../dd/d3f/struct____attribute____.html#a73a1f0d521c677a0f744d052b988f55d">   62</a></span>&#160;    uint16_t <a class="code" href="../../dd/d3f/struct____attribute____.html#a73a1f0d521c677a0f744d052b988f55d">checksum</a>;       </div>
<div class="line"><a name="l00063"></a><span class="lineno"><a class="line" href="../../dd/d3f/struct____attribute____.html#ad45e469ecebdc903d46b866981a617dc">   63</a></span>&#160;    uint32_t <a class="code" href="../../dd/d3f/struct____attribute____.html#ad45e469ecebdc903d46b866981a617dc">timestamp_ms</a>;   </div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;} <a class="code" href="../../d8/d75/as5600__driver_8c.html#a36f229bbda63818246ec86181b1fdd42">__attribute__</a>((packed)) MessageHeader_t;</div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160; </div>
<div class="line"><a name="l00069"></a><span class="lineno"><a class="line" href="../../de/d0a/structMessage__t.html">   69</a></span>&#160;<span class="keyword">typedef</span> <span class="keyword">struct </span>{</div>
<div class="line"><a name="l00070"></a><span class="lineno"><a class="line" href="../../de/d0a/structMessage__t.html#abf28ef83c9315df2335efe7b81c1212d">   70</a></span>&#160;    MessageHeader_t <a class="code" href="../../de/d0a/structMessage__t.html#abf28ef83c9315df2335efe7b81c1212d">header</a>;</div>
<div class="line"><a name="l00071"></a><span class="lineno"><a class="line" href="../../de/d0a/structMessage__t.html#a45e1dd44c91ed6eeb62136b227dc5975">   71</a></span>&#160;    uint8_t payload[<a class="code" href="../../d3/d88/comm__config_8h.html#a4c78df0dfd8607bcd2e87b5b67227845">MAX_MESSAGE_PAYLOAD</a>];</div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;} <a class="code" href="../../de/d0a/structMessage__t.html">Message_t</a>;</div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160; </div>
<div class="line"><a name="l00077"></a><span class="lineno"><a class="line" href="../../d8/da6/structCommChannelConfig__t.html">   77</a></span>&#160;<span class="keyword">typedef</span> <span class="keyword">struct </span>{</div>
<div class="line"><a name="l00078"></a><span class="lineno"><a class="line" href="../../d8/da6/structCommChannelConfig__t.html#aa61561ffeb917e2477bb3df4a2cc2f43">   78</a></span>&#160;    <a class="code" href="../../dc/d81/comm__protocol_8h.html#a340f79521457a0301eed2325c7f72d79">CommProtocol_t</a> <a class="code" href="../../d8/da6/structCommChannelConfig__t.html#aa61561ffeb917e2477bb3df4a2cc2f43">protocol</a>;    </div>
<div class="line"><a name="l00079"></a><span class="lineno"><a class="line" href="../../d8/da6/structCommChannelConfig__t.html#a8448df602741318c9d70e1249faf6e17">   79</a></span>&#160;    <span class="keywordtype">bool</span> <a class="code" href="../../d8/da6/structCommChannelConfig__t.html#a8448df602741318c9d70e1249faf6e17">enabled</a>;               </div>
<div class="line"><a name="l00080"></a><span class="lineno"><a class="line" href="../../d8/da6/structCommChannelConfig__t.html#a5f84f3d2288b7df1818b006e30a0b014">   80</a></span>&#160;    uint32_t <a class="code" href="../../d8/da6/structCommChannelConfig__t.html#a5f84f3d2288b7df1818b006e30a0b014">baudrate</a>;          </div>
<div class="line"><a name="l00081"></a><span class="lineno"><a class="line" href="../../d8/da6/structCommChannelConfig__t.html#a5f0b6eb83f28be73ed9210b5b67f9fc3">   81</a></span>&#160;    uint32_t <a class="code" href="../../d8/da6/structCommChannelConfig__t.html#a5f0b6eb83f28be73ed9210b5b67f9fc3">timeout_ms</a>;        </div>
<div class="line"><a name="l00082"></a><span class="lineno"><a class="line" href="../../d8/da6/structCommChannelConfig__t.html#a9f1dd8d588d1ecf0d21a1cbac30c26fa">   82</a></span>&#160;    uint32_t <a class="code" href="../../d8/da6/structCommChannelConfig__t.html#a9f1dd8d588d1ecf0d21a1cbac30c26fa">tx_count</a>;          </div>
<div class="line"><a name="l00083"></a><span class="lineno"><a class="line" href="../../d8/da6/structCommChannelConfig__t.html#acc843254a86019b3a7914357da93a591">   83</a></span>&#160;    uint32_t <a class="code" href="../../d8/da6/structCommChannelConfig__t.html#acc843254a86019b3a7914357da93a591">rx_count</a>;          </div>
<div class="line"><a name="l00084"></a><span class="lineno"><a class="line" href="../../d8/da6/structCommChannelConfig__t.html#a716d66866d3c762a3a2c1a2d6a00d11e">   84</a></span>&#160;    uint32_t <a class="code" href="../../d8/da6/structCommChannelConfig__t.html#a716d66866d3c762a3a2c1a2d6a00d11e">error_count</a>;       </div>
<div class="line"><a name="l00085"></a><span class="lineno"><a class="line" href="../../d8/da6/structCommChannelConfig__t.html#ac006319cdec4e3df111001909956a0ba">   85</a></span>&#160;    uint32_t <a class="code" href="../../d8/da6/structCommChannelConfig__t.html#ac006319cdec4e3df111001909956a0ba">last_activity</a>;     </div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;} <a class="code" href="../../d8/da6/structCommChannelConfig__t.html">CommChannelConfig_t</a>;</div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160; </div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;<span class="comment">/* ========================================================================== */</span></div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;<span class="comment">/* Motor Control Command Types                                               */</span></div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;<span class="comment">/* ========================================================================== */</span></div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160; </div>
<div class="line"><a name="l00095"></a><span class="lineno"><a class="line" href="../../dc/d81/comm__protocol_8h.html#afd32ad07822de353595293017c7470b4">   95</a></span>&#160;<span class="keyword">typedef</span> <span class="keyword">enum</span> {</div>
<div class="line"><a name="l00096"></a><span class="lineno"><a class="line" href="../../dc/d81/comm__protocol_8h.html#afd32ad07822de353595293017c7470b4af2c2fc3308c5742af621f7a66b4eeb27">   96</a></span>&#160;    <a class="code" href="../../dc/d81/comm__protocol_8h.html#afd32ad07822de353595293017c7470b4af2c2fc3308c5742af621f7a66b4eeb27">MOTOR_CMD_STOP</a> = 0x01,          </div>
<div class="line"><a name="l00097"></a><span class="lineno"><a class="line" href="../../dc/d81/comm__protocol_8h.html#afd32ad07822de353595293017c7470b4aeee277c322b6b661c84293599a6c882d">   97</a></span>&#160;    <a class="code" href="../../dc/d81/comm__protocol_8h.html#afd32ad07822de353595293017c7470b4aeee277c322b6b661c84293599a6c882d">MOTOR_CMD_EMERGENCY_STOP</a> = 0x02, </div>
<div class="line"><a name="l00098"></a><span class="lineno"><a class="line" href="../../dc/d81/comm__protocol_8h.html#afd32ad07822de353595293017c7470b4a18dd6c75aeb326c072ac339d154e2535">   98</a></span>&#160;    <a class="code" href="../../dc/d81/comm__protocol_8h.html#afd32ad07822de353595293017c7470b4a18dd6c75aeb326c072ac339d154e2535">MOTOR_CMD_MOVE_ABSOLUTE</a> = 0x10,  </div>
<div class="line"><a name="l00099"></a><span class="lineno"><a class="line" href="../../dc/d81/comm__protocol_8h.html#afd32ad07822de353595293017c7470b4a3cb648b47fda36e97f529810bc922885">   99</a></span>&#160;    <a class="code" href="../../dc/d81/comm__protocol_8h.html#afd32ad07822de353595293017c7470b4a3cb648b47fda36e97f529810bc922885">MOTOR_CMD_MOVE_RELATIVE</a> = 0x11,  </div>
<div class="line"><a name="l00100"></a><span class="lineno"><a class="line" href="../../dc/d81/comm__protocol_8h.html#afd32ad07822de353595293017c7470b4a9e384d49f9376b4599b2b486f1dd39dd">  100</a></span>&#160;    <a class="code" href="../../dc/d81/comm__protocol_8h.html#afd32ad07822de353595293017c7470b4a9e384d49f9376b4599b2b486f1dd39dd">MOTOR_CMD_MOVE_CONTINUOUS</a> = 0x12, </div>
<div class="line"><a name="l00101"></a><span class="lineno"><a class="line" href="../../dc/d81/comm__protocol_8h.html#afd32ad07822de353595293017c7470b4a12f99be2f955755aeea5a25e50267bc7">  101</a></span>&#160;    <a class="code" href="../../dc/d81/comm__protocol_8h.html#afd32ad07822de353595293017c7470b4a12f99be2f955755aeea5a25e50267bc7">MOTOR_CMD_HOME</a> = 0x20,          </div>
<div class="line"><a name="l00102"></a><span class="lineno"><a class="line" href="../../dc/d81/comm__protocol_8h.html#afd32ad07822de353595293017c7470b4abc7e089cb6e63296820bc7f1ffcc12c9">  102</a></span>&#160;    <a class="code" href="../../dc/d81/comm__protocol_8h.html#afd32ad07822de353595293017c7470b4abc7e089cb6e63296820bc7f1ffcc12c9">MOTOR_CMD_CALIBRATE</a> = 0x21,     </div>
<div class="line"><a name="l00103"></a><span class="lineno"><a class="line" href="../../dc/d81/comm__protocol_8h.html#afd32ad07822de353595293017c7470b4ace570210de5896b81c77758a8f39bb45">  103</a></span>&#160;    <a class="code" href="../../dc/d81/comm__protocol_8h.html#afd32ad07822de353595293017c7470b4ace570210de5896b81c77758a8f39bb45">MOTOR_CMD_SET_POSITION</a> = 0x22,  </div>
<div class="line"><a name="l00104"></a><span class="lineno"><a class="line" href="../../dc/d81/comm__protocol_8h.html#afd32ad07822de353595293017c7470b4a38faac39848ddd182863a9a814d67a24">  104</a></span>&#160;    <a class="code" href="../../dc/d81/comm__protocol_8h.html#afd32ad07822de353595293017c7470b4a38faac39848ddd182863a9a814d67a24">MOTOR_CMD_GET_STATUS</a> = 0x30,    </div>
<div class="line"><a name="l00105"></a><span class="lineno"><a class="line" href="../../dc/d81/comm__protocol_8h.html#afd32ad07822de353595293017c7470b4a2c75d397979f83c49c7ab758b8be2268">  105</a></span>&#160;    <a class="code" href="../../dc/d81/comm__protocol_8h.html#afd32ad07822de353595293017c7470b4a2c75d397979f83c49c7ab758b8be2268">MOTOR_CMD_GET_POSITION</a> = 0x31,  </div>
<div class="line"><a name="l00106"></a><span class="lineno"><a class="line" href="../../dc/d81/comm__protocol_8h.html#afd32ad07822de353595293017c7470b4afa9cb04c9c77795e415e0bee3e042d1d">  106</a></span>&#160;    <a class="code" href="../../dc/d81/comm__protocol_8h.html#afd32ad07822de353595293017c7470b4afa9cb04c9c77795e415e0bee3e042d1d">MOTOR_CMD_SET_PARAMETERS</a> = 0x40, </div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;    <a class="code" href="../../dc/d81/comm__protocol_8h.html#afd32ad07822de353595293017c7470b4af6191d8ec7a861ce944d10dc5e214ae8">MOTOR_CMD_SELF_TEST</a> = 0x50      </div>
<div class="line"><a name="l00108"></a><span class="lineno"><a class="line" href="../../dc/d81/comm__protocol_8h.html#afd32ad07822de353595293017c7470b4af6191d8ec7a861ce944d10dc5e214ae8">  108</a></span>&#160;} <a class="code" href="../../dc/d81/comm__protocol_8h.html#afd32ad07822de353595293017c7470b4">MotorCommandType_t</a>;</div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160; </div>
<div class="line"><a name="l00113"></a><span class="lineno"><a class="line" href="../../da/d7b/structMotorCommand__t.html">  113</a></span>&#160;<span class="keyword">typedef</span> <span class="keyword">struct </span>{</div>
<div class="line"><a name="l00114"></a><span class="lineno"><a class="line" href="../../da/d7b/structMotorCommand__t.html#aaa6269944031838b1bf408c76be26842">  114</a></span>&#160;    uint8_t <a class="code" href="../../da/d7b/structMotorCommand__t.html#aaa6269944031838b1bf408c76be26842">motor_id</a>;               </div>
<div class="line"><a name="l00115"></a><span class="lineno"><a class="line" href="../../da/d7b/structMotorCommand__t.html#a91a402763a5231c95300c9b903bd8270">  115</a></span>&#160;    <a class="code" href="../../dc/d81/comm__protocol_8h.html#afd32ad07822de353595293017c7470b4">MotorCommandType_t</a> <a class="code" href="../../da/d7b/structMotorCommand__t.html#a91a402763a5231c95300c9b903bd8270">command</a>;     </div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;    <span class="keyword">union </span>{</div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;        <span class="keyword">struct </span>{</div>
<div class="line"><a name="l00118"></a><span class="lineno"><a class="line" href="../../da/d7b/structMotorCommand__t.html#a0d345cb43009db3a1ac20b4ebc3ce7d9">  118</a></span>&#160;            int32_t <a class="code" href="../../da/d7b/structMotorCommand__t.html#a0d345cb43009db3a1ac20b4ebc3ce7d9">position_steps</a>; </div>
<div class="line"><a name="l00119"></a><span class="lineno"><a class="line" href="../../da/d7b/structMotorCommand__t.html#a42e569a39ad4e1c0891d1a760a949c1b">  119</a></span>&#160;            uint32_t <a class="code" href="../../da/d7b/structMotorCommand__t.html#a42e569a39ad4e1c0891d1a760a949c1b">speed_steps_per_sec</a>; </div>
<div class="line"><a name="l00120"></a><span class="lineno"><a class="line" href="../../da/d7b/structMotorCommand__t.html#ab94d58bba401f883278a84ded7da750e">  120</a></span>&#160;            uint32_t <a class="code" href="../../da/d7b/structMotorCommand__t.html#ab94d58bba401f883278a84ded7da750e">acceleration</a>;  </div>
<div class="line"><a name="l00121"></a><span class="lineno"><a class="line" href="../../da/d7b/structMotorCommand__t.html#a3eaf7579751e920958f43ecca11f7fa4">  121</a></span>&#160;        } move;</div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;        <span class="keyword">struct </span>{</div>
<div class="line"><a name="l00123"></a><span class="lineno"><a class="line" href="../../da/d7b/structMotorCommand__t.html#ae7e1114089044edf9a37bb13ad5380cd">  123</a></span>&#160;            uint32_t <a class="code" href="../../da/d7b/structMotorCommand__t.html#ae7e1114089044edf9a37bb13ad5380cd">max_speed</a>;     </div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;            uint32_t acceleration;  </div>
<div class="line"><a name="l00125"></a><span class="lineno"><a class="line" href="../../da/d7b/structMotorCommand__t.html#aaf2151b3be855fbbbce7dcb91461cd11">  125</a></span>&#160;            uint32_t <a class="code" href="../../da/d7b/structMotorCommand__t.html#aaf2151b3be855fbbbce7dcb91461cd11">current_ma</a>;    </div>
<div class="line"><a name="l00126"></a><span class="lineno"><a class="line" href="../../da/d7b/structMotorCommand__t.html#a961b3a5be1c612166fbcc9858959441c">  126</a></span>&#160;        } parameters;</div>
<div class="line"><a name="l00127"></a><span class="lineno"><a class="line" href="../../da/d7b/structMotorCommand__t.html#aba67abcd555c7cf8a9eb2238083d7a83">  127</a></span>&#160;        uint32_t <a class="code" href="../../da/d7b/structMotorCommand__t.html#aba67abcd555c7cf8a9eb2238083d7a83">raw_data</a>;          </div>
<div class="line"><a name="l00128"></a><span class="lineno"><a class="line" href="../../da/d7b/structMotorCommand__t.html#aff567ed8c843931822bf694f3bf2024a">  128</a></span>&#160;    } data;</div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;} <a class="code" href="../../da/d7b/structMotorCommand__t.html">MotorCommand_t</a>;</div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160; </div>
<div class="line"><a name="l00134"></a><span class="lineno"><a class="line" href="../../de/d97/structMotorStatusResponse__t.html">  134</a></span>&#160;<span class="keyword">typedef</span> <span class="keyword">struct </span>{</div>
<div class="line"><a name="l00135"></a><span class="lineno"><a class="line" href="../../de/d97/structMotorStatusResponse__t.html#a928c98232973d808603a5839ff0aa102">  135</a></span>&#160;    uint8_t <a class="code" href="../../de/d97/structMotorStatusResponse__t.html#a928c98232973d808603a5839ff0aa102">motor_id</a>;               </div>
<div class="line"><a name="l00136"></a><span class="lineno"><a class="line" href="../../de/d97/structMotorStatusResponse__t.html#a53a3c23fc7cdb24402bf260c703961eb">  136</a></span>&#160;    uint8_t <a class="code" href="../../de/d97/structMotorStatusResponse__t.html#a53a3c23fc7cdb24402bf260c703961eb">state</a>;                  </div>
<div class="line"><a name="l00137"></a><span class="lineno"><a class="line" href="../../de/d97/structMotorStatusResponse__t.html#a4dd1efc1b6630b06867902ff1af24c96">  137</a></span>&#160;    int32_t <a class="code" href="../../de/d97/structMotorStatusResponse__t.html#a4dd1efc1b6630b06867902ff1af24c96">position_steps</a>;         </div>
<div class="line"><a name="l00138"></a><span class="lineno"><a class="line" href="../../de/d97/structMotorStatusResponse__t.html#a838cce6f8ec7aa16d52c392d9a7d442b">  138</a></span>&#160;    uint32_t <a class="code" href="../../de/d97/structMotorStatusResponse__t.html#a838cce6f8ec7aa16d52c392d9a7d442b">speed_steps_per_sec</a>;   </div>
<div class="line"><a name="l00139"></a><span class="lineno"><a class="line" href="../../de/d97/structMotorStatusResponse__t.html#aa5345fa81f00557aef1cbf1650b8a7f1">  139</a></span>&#160;    uint32_t <a class="code" href="../../de/d97/structMotorStatusResponse__t.html#aa5345fa81f00557aef1cbf1650b8a7f1">fault_flags</a>;           </div>
<div class="line"><a name="l00140"></a><span class="lineno"><a class="line" href="../../de/d97/structMotorStatusResponse__t.html#a79b118f544234f2b1a0595638d3774e9">  140</a></span>&#160;    uint32_t <a class="code" href="../../de/d97/structMotorStatusResponse__t.html#a79b118f544234f2b1a0595638d3774e9">timestamp</a>;             </div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;} <a class="code" href="../../de/d97/structMotorStatusResponse__t.html">MotorStatusResponse_t</a>;</div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160; </div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;<span class="comment">/* ========================================================================== */</span></div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;<span class="comment">/* Public Function Prototypes                                                */</span></div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;<span class="comment">/* ========================================================================== */</span></div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160; </div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;<a class="code" href="../../de/d11/error__codes_8h.html#ad18804b039d93258aac27507b1ad3756">SystemError_t</a> <a class="code" href="../../dc/d81/comm__protocol_8h.html#a777290e1e24456f5f3a7d0e958424d3b">comm_protocol_init</a>(<span class="keywordtype">void</span>);</div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160; </div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;<a class="code" href="../../de/d11/error__codes_8h.html#ad18804b039d93258aac27507b1ad3756">SystemError_t</a> <a class="code" href="../../dc/d81/comm__protocol_8h.html#abfd8c320363bb55162c7a18d68aa2a53">comm_uart_init</a>(UART_HandleTypeDef* huart, <a class="code" href="../../dc/d81/comm__protocol_8h.html#a340f79521457a0301eed2325c7f72d79">CommProtocol_t</a> protocol);</div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160; </div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;<a class="code" href="../../de/d11/error__codes_8h.html#ad18804b039d93258aac27507b1ad3756">SystemError_t</a> <a class="code" href="../../dc/d81/comm__protocol_8h.html#aa321ae7aa522c4c833c496b095fc62a9">comm_can_init</a>(FDCAN_HandleTypeDef* hfdcan);</div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160; </div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;<a class="code" href="../../de/d11/error__codes_8h.html#ad18804b039d93258aac27507b1ad3756">SystemError_t</a> <a class="code" href="../../dc/d81/comm__protocol_8h.html#a4c2be170b34c1cb2513c622b5c7ea9f3">comm_process_message</a>(<span class="keyword">const</span> <a class="code" href="../../de/d0a/structMessage__t.html">Message_t</a>* message);</div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160; </div>
<div class="line"><a name="l00181"></a><span class="lineno"><a class="line" href="../../dc/d81/comm__protocol_8h.html#a817fafa33a951722b8145f41f111e498">  181</a></span>&#160;<a class="code" href="../../de/d11/error__codes_8h.html#ad18804b039d93258aac27507b1ad3756">SystemError_t</a> <a class="code" href="../../dc/d81/comm__protocol_8h.html#a817fafa33a951722b8145f41f111e498">comm_send_motor_command</a>(<a class="code" href="../../dc/d81/comm__protocol_8h.html#a340f79521457a0301eed2325c7f72d79">CommProtocol_t</a> protocol, <span class="keyword">const</span> <a class="code" href="../../da/d7b/structMotorCommand__t.html">MotorCommand_t</a>* command);</div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160; </div>
<div class="line"><a name="l00189"></a><span class="lineno"><a class="line" href="../../dc/d81/comm__protocol_8h.html#a1da131e5a4c77d2742503da6003d8a1f">  189</a></span>&#160;<a class="code" href="../../de/d11/error__codes_8h.html#ad18804b039d93258aac27507b1ad3756">SystemError_t</a> <a class="code" href="../../dc/d81/comm__protocol_8h.html#a1da131e5a4c77d2742503da6003d8a1f">comm_send_motor_status</a>(<a class="code" href="../../dc/d81/comm__protocol_8h.html#a340f79521457a0301eed2325c7f72d79">CommProtocol_t</a> protocol, <span class="keyword">const</span> <a class="code" href="../../de/d97/structMotorStatusResponse__t.html">MotorStatusResponse_t</a>* status);</div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160; </div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;<a class="code" href="../../de/d11/error__codes_8h.html#ad18804b039d93258aac27507b1ad3756">SystemError_t</a> <a class="code" href="../../dc/d81/comm__protocol_8h.html#a35dc399c53260c128281cb775b894f83">comm_send_text_message</a>(<a class="code" href="../../dc/d81/comm__protocol_8h.html#a340f79521457a0301eed2325c7f72d79">CommProtocol_t</a> protocol, <span class="keyword">const</span> <span class="keywordtype">char</span>* message);</div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160; </div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;<a class="code" href="../../de/d11/error__codes_8h.html#ad18804b039d93258aac27507b1ad3756">SystemError_t</a> <a class="code" href="../../dc/d81/comm__protocol_8h.html#ab118c163ad567e8aba80951e7a2f72b2">comm_process_ascii_command</a>(<span class="keyword">const</span> <span class="keywordtype">char</span>* command_string);</div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160; </div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;<a class="code" href="../../de/d11/error__codes_8h.html#ad18804b039d93258aac27507b1ad3756">SystemError_t</a> <a class="code" href="../../dc/d81/comm__protocol_8h.html#aa15ec8d4711471207405c29ab399207e">comm_parse_ascii_motor_command</a>(<span class="keyword">const</span> <span class="keywordtype">char</span>* ascii_command, <a class="code" href="../../da/d7b/structMotorCommand__t.html">MotorCommand_t</a>* motor_command);</div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160; </div>
<div class="line"><a name="l00221"></a><span class="lineno"><a class="line" href="../../dc/d81/comm__protocol_8h.html#a2de34fa625c914c14ee3f85a7c09dc2f">  221</a></span>&#160;<a class="code" href="../../de/d11/error__codes_8h.html#ad18804b039d93258aac27507b1ad3756">SystemError_t</a> <a class="code" href="../../dc/d81/comm__protocol_8h.html#a2de34fa625c914c14ee3f85a7c09dc2f">comm_format_ascii_motor_status</a>(<span class="keyword">const</span> <a class="code" href="../../de/d97/structMotorStatusResponse__t.html">MotorStatusResponse_t</a>* status, </div>
<div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;                                              <span class="keywordtype">char</span>* ascii_buffer, <span class="keywordtype">size_t</span> buffer_size);</div>
<div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160; </div>
<div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;<a class="code" href="../../de/d11/error__codes_8h.html#ad18804b039d93258aac27507b1ad3756">SystemError_t</a> <a class="code" href="../../dc/d81/comm__protocol_8h.html#a935b4dbeb21ecbb753989a507449962f">comm_protocol_task</a>(<span class="keywordtype">void</span>);</div>
<div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160; </div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;<span class="keywordtype">bool</span> <a class="code" href="../../dc/d81/comm__protocol_8h.html#ae8e845f2ece1af735e5c207572036daf">comm_channel_is_healthy</a>(<a class="code" href="../../dc/d81/comm__protocol_8h.html#a340f79521457a0301eed2325c7f72d79">CommProtocol_t</a> protocol);</div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160; </div>
<div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;<a class="code" href="../../de/d11/error__codes_8h.html#ad18804b039d93258aac27507b1ad3756">SystemError_t</a> <a class="code" href="../../dc/d81/comm__protocol_8h.html#a77fc976bbe9d0860870b0b36261c9b30">comm_get_channel_config</a>(<a class="code" href="../../dc/d81/comm__protocol_8h.html#a340f79521457a0301eed2325c7f72d79">CommProtocol_t</a> protocol, <a class="code" href="../../d8/da6/structCommChannelConfig__t.html">CommChannelConfig_t</a>* config);</div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160; </div>
<div class="line"><a name="l00251"></a><span class="lineno"><a class="line" href="../../dc/d81/comm__protocol_8h.html#a65f597970f943203293cf5116120cc01">  251</a></span>&#160;<a class="code" href="../../de/d11/error__codes_8h.html#ad18804b039d93258aac27507b1ad3756">SystemError_t</a> <a class="code" href="../../dc/d81/comm__protocol_8h.html#a65f597970f943203293cf5116120cc01">comm_set_channel_enabled</a>(<a class="code" href="../../dc/d81/comm__protocol_8h.html#a340f79521457a0301eed2325c7f72d79">CommProtocol_t</a> protocol, <span class="keywordtype">bool</span> enabled);</div>
<div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160; </div>
<div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;<a class="code" href="../../de/d11/error__codes_8h.html#ad18804b039d93258aac27507b1ad3756">SystemError_t</a> <a class="code" href="../../dc/d81/comm__protocol_8h.html#a95422968adc2a82fdf5fe46421e4263d">comm_protocol_self_test</a>(<span class="keywordtype">void</span>);</div>
<div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160; </div>
<div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;<span class="comment">/* ========================================================================== */</span></div>
<div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;<span class="comment">/* UART Command Processing Functions                                         */</span></div>
<div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;<span class="comment">/* ========================================================================== */</span></div>
<div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160; </div>
<div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;<a class="code" href="../../de/d11/error__codes_8h.html#ad18804b039d93258aac27507b1ad3756">SystemError_t</a> <a class="code" href="../../dc/d81/comm__protocol_8h.html#a3e3d2a53cb83d6ccedb92b10ad27a746">debug_uart_init</a>(UART_HandleTypeDef* huart);</div>
<div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160; </div>
<div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../dc/d81/comm__protocol_8h.html#a30e1e8eec2d093510d74230249d27b55">comm_uart_rx_complete_callback</a>(UART_HandleTypeDef* huart);</div>
<div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160; </div>
<div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../dc/d81/comm__protocol_8h.html#a9a688eafe901ed1d9d1384f088d96862">comm_uart_tx_complete_callback</a>(UART_HandleTypeDef* huart);</div>
<div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160; </div>
<div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../dc/d81/comm__protocol_8h.html#adc01e0b71c6f5660f980ae57bb0ac769">comm_uart_error_callback</a>(UART_HandleTypeDef* huart);</div>
<div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160; </div>
<div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;<span class="comment">/* ========================================================================== */</span></div>
<div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;<span class="comment">/* CAN Protocol Functions                                                    */</span></div>
<div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;<span class="comment">/* ========================================================================== */</span></div>
<div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160; </div>
<div class="line"><a name="l00298"></a><span class="lineno"><a class="line" href="../../dc/d81/comm__protocol_8h.html#afe90fdd729808eff4772906d9eeaad4e">  298</a></span>&#160;<a class="code" href="../../de/d11/error__codes_8h.html#ad18804b039d93258aac27507b1ad3756">SystemError_t</a> <a class="code" href="../../dc/d81/comm__protocol_8h.html#afe90fdd729808eff4772906d9eeaad4e">comm_can_send_motor_command</a>(uint8_t motor_id, <span class="keyword">const</span> <a class="code" href="../../da/d7b/structMotorCommand__t.html">MotorCommand_t</a>* command);</div>
<div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160; </div>
<div class="line"><a name="l00304"></a><span class="lineno"><a class="line" href="../../dc/d81/comm__protocol_8h.html#a91f037e55c9aff50f14e93d3b1b0c586">  304</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../dc/d81/comm__protocol_8h.html#a91f037e55c9aff50f14e93d3b1b0c586">comm_can_rx_callback</a>(FDCAN_HandleTypeDef* hfdcan);</div>
<div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160; </div>
<div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;<span class="comment">/* ========================================================================== */</span></div>
<div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;<span class="comment">/* Safety Integration Macros                                                 */</span></div>
<div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;<span class="comment">/* ========================================================================== */</span></div>
<div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160; </div>
<div class="line"><a name="l00313"></a><span class="lineno"><a class="line" href="../../dc/d81/comm__protocol_8h.html#aad269d543f3378e8d350b4af4c54e42f">  313</a></span>&#160;<span class="preprocessor">#define COMM_SAFETY_CHECK() \</span></div>
<div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;<span class="preprocessor">    do { \</span></div>
<div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;<span class="preprocessor">        if (!safety_system_is_operational()) { \</span></div>
<div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;<span class="preprocessor">            return ERROR_SAFETY_SYSTEM_NOT_READY; \</span></div>
<div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;<span class="preprocessor">        } \</span></div>
<div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;<span class="preprocessor">        if (safety_get_emergency_stop_state()) { \</span></div>
<div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;<span class="preprocessor">            return ERROR_SAFETY_EMERGENCY_STOP; \</span></div>
<div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;<span class="preprocessor">        } \</span></div>
<div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;<span class="preprocessor">    } while(0)</span></div>
<div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160; </div>
<div class="line"><a name="l00326"></a><span class="lineno"><a class="line" href="../../dc/d81/comm__protocol_8h.html#af0c6026e905d0be7bfc1bbdf173ffec6">  326</a></span>&#160;<span class="preprocessor">#define VALIDATE_MESSAGE_HEADER(header) \</span></div>
<div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;<span class="preprocessor">    do { \</span></div>
<div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;<span class="preprocessor">        if ((header)-&gt;magic != MESSAGE_MAGIC) { \</span></div>
<div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;<span class="preprocessor">            return ERROR_COMM_INVALID_MESSAGE; \</span></div>
<div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;<span class="preprocessor">        } \</span></div>
<div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;<span class="preprocessor">        if ((header)-&gt;payload_length &gt; MAX_MESSAGE_PAYLOAD) { \</span></div>
<div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;<span class="preprocessor">            return ERROR_COMM_MESSAGE_TOO_LARGE; \</span></div>
<div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;<span class="preprocessor">        } \</span></div>
<div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;<span class="preprocessor">    } while(0)</span></div>
<div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160; </div>
<div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;<span class="comment">/* ========================================================================== */</span></div>
<div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;<span class="comment">/* Constants and Configuration                                               */</span></div>
<div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;<span class="comment">/* ========================================================================== */</span></div>
<div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160; </div>
<div class="line"><a name="l00340"></a><span class="lineno"><a class="line" href="../../dc/d81/comm__protocol_8h.html#ac13a3f496cb2ffcc4e5bf6653a06719c">  340</a></span>&#160;<span class="preprocessor">#define MESSAGE_MAGIC               0xDEADBEEF</span></div>
<div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;<span class="comment">// MAX_MESSAGE_PAYLOAD and UART_RX_BUFFER_SIZE defined in comm_config.h (SSOT)</span></div>
<div class="line"><a name="l00342"></a><span class="lineno"><a class="line" href="../../dc/d81/comm__protocol_8h.html#a05f5d709605c6317c97e4974bec3402a">  342</a></span>&#160;<span class="preprocessor">#define UART_TX_BUFFER_SIZE         512</span></div>
<div class="line"><a name="l00343"></a><span class="lineno"><a class="line" href="../../dc/d81/comm__protocol_8h.html#a138e8be01296dc19a3e955d3bb5a11af">  343</a></span>&#160;<span class="preprocessor">#define ASCII_COMMAND_MAX_LENGTH    128</span></div>
<div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160; </div>
<div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;<span class="comment">// ASCII command delimiters</span></div>
<div class="line"><a name="l00346"></a><span class="lineno"><a class="line" href="../../dc/d81/comm__protocol_8h.html#a8421e5df9d7173538875acc602e6d261">  346</a></span>&#160;<span class="preprocessor">#define ASCII_COMMAND_DELIMITER     &#39;\r&#39;</span></div>
<div class="line"><a name="l00347"></a><span class="lineno"><a class="line" href="../../dc/d81/comm__protocol_8h.html#a8f65225af83f8e46d7ac1d405408e660">  347</a></span>&#160;<span class="preprocessor">#define ASCII_PARAMETER_SEPARATOR   &#39; &#39;</span></div>
<div class="line"><a name="l00348"></a><span class="lineno"><a class="line" href="../../dc/d81/comm__protocol_8h.html#ad1877a0baf672eb7ca6572c16b2fad74">  348</a></span>&#160;<span class="preprocessor">#define ASCII_END_OF_LINE           &#39;\n&#39;</span></div>
<div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160; </div>
<div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;<span class="preprocessor">#endif </span><span class="comment">/* COMM_PROTOCOL_H */</span><span class="preprocessor"></span></div>
<div class="ttc" id="aas5600__driver_8c_html_a36f229bbda63818246ec86181b1fdd42"><div class="ttname"><a href="../../d8/d75/as5600__driver_8c.html#a36f229bbda63818246ec86181b1fdd42">__attribute__</a></div><div class="ttdeci">__attribute__((unused))</div><div class="ttdoc">Write single register to AS5600.</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d75/as5600__driver_8c_source.html#l00456">as5600_driver.c:456</a></div></div>
<div class="ttc" id="acomm__config_8h_html"><div class="ttname"><a href="../../d3/d88/comm__config_8h.html">comm_config.h</a></div><div class="ttdoc">Communication Configuration - Single Source of Truth (SSOT)</div></div>
<div class="ttc" id="acomm__config_8h_html_a4c78df0dfd8607bcd2e87b5b67227845"><div class="ttname"><a href="../../d3/d88/comm__config_8h.html#a4c78df0dfd8607bcd2e87b5b67227845">MAX_MESSAGE_PAYLOAD</a></div><div class="ttdeci">#define MAX_MESSAGE_PAYLOAD</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d88/comm__config_8h_source.html#l00028">comm_config.h:28</a></div></div>
<div class="ttc" id="acomm__protocol_8h_html_a1aa340d3873065f38cc54c515994a021"><div class="ttname"><a href="../../dc/d81/comm__protocol_8h.html#a1aa340d3873065f38cc54c515994a021">CommLayer_t</a></div><div class="ttdeci">CommLayer_t</div><div class="ttdoc">Communication protocol layers.</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d81/comm__protocol_8h_source.html#l00032">comm_protocol.h:32</a></div></div>
<div class="ttc" id="acomm__protocol_8h_html_a1aa340d3873065f38cc54c515994a021a44849bb7c6c1d03258bbd5d59da00d1e"><div class="ttname"><a href="../../dc/d81/comm__protocol_8h.html#a1aa340d3873065f38cc54c515994a021a44849bb7c6c1d03258bbd5d59da00d1e">COMM_LAYER_DATALINK</a></div><div class="ttdeci">@ COMM_LAYER_DATALINK</div><div class="ttdoc">SPI, I2C, UART framing.</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d81/comm__protocol_8h_source.html#l00034">comm_protocol.h:34</a></div></div>
<div class="ttc" id="acomm__protocol_8h_html_a1aa340d3873065f38cc54c515994a021a521f81dec5d0000a36a18955d6f3e5d2"><div class="ttname"><a href="../../dc/d81/comm__protocol_8h.html#a1aa340d3873065f38cc54c515994a021a521f81dec5d0000a36a18955d6f3e5d2">COMM_LAYER_APPLICATION</a></div><div class="ttdeci">@ COMM_LAYER_APPLICATION</div><div class="ttdoc">Motor control commands, status.</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d81/comm__protocol_8h_source.html#l00038">comm_protocol.h:37</a></div></div>
<div class="ttc" id="acomm__protocol_8h_html_a1aa340d3873065f38cc54c515994a021a64920ae3d048af0ada8e4820fca92cb1"><div class="ttname"><a href="../../dc/d81/comm__protocol_8h.html#a1aa340d3873065f38cc54c515994a021a64920ae3d048af0ada8e4820fca92cb1">COMM_LAYER_TRANSPORT</a></div><div class="ttdeci">@ COMM_LAYER_TRANSPORT</div><div class="ttdoc">Message segmentation, flow control.</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d81/comm__protocol_8h_source.html#l00036">comm_protocol.h:36</a></div></div>
<div class="ttc" id="acomm__protocol_8h_html_a1aa340d3873065f38cc54c515994a021a698707d858eb3cbed78bd6aaae9d79ba"><div class="ttname"><a href="../../dc/d81/comm__protocol_8h.html#a1aa340d3873065f38cc54c515994a021a698707d858eb3cbed78bd6aaae9d79ba">COMM_LAYER_NETWORK</a></div><div class="ttdeci">@ COMM_LAYER_NETWORK</div><div class="ttdoc">CAN, Ethernet protocols.</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d81/comm__protocol_8h_source.html#l00035">comm_protocol.h:35</a></div></div>
<div class="ttc" id="acomm__protocol_8h_html_a1aa340d3873065f38cc54c515994a021ac12bed4e23956c5746b51ee3c47652ab"><div class="ttname"><a href="../../dc/d81/comm__protocol_8h.html#a1aa340d3873065f38cc54c515994a021ac12bed4e23956c5746b51ee3c47652ab">COMM_LAYER_PHYSICAL</a></div><div class="ttdeci">@ COMM_LAYER_PHYSICAL</div><div class="ttdoc">GPIO, hardware interfaces.</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d81/comm__protocol_8h_source.html#l00033">comm_protocol.h:33</a></div></div>
<div class="ttc" id="acomm__protocol_8h_html_a1da131e5a4c77d2742503da6003d8a1f"><div class="ttname"><a href="../../dc/d81/comm__protocol_8h.html#a1da131e5a4c77d2742503da6003d8a1f">comm_send_motor_status</a></div><div class="ttdeci">SystemError_t comm_send_motor_status(CommProtocol_t protocol, const MotorStatusResponse_t *status)</div><div class="ttdoc">Send motor status response.</div></div>
<div class="ttc" id="acomm__protocol_8h_html_a2de34fa625c914c14ee3f85a7c09dc2f"><div class="ttname"><a href="../../dc/d81/comm__protocol_8h.html#a2de34fa625c914c14ee3f85a7c09dc2f">comm_format_ascii_motor_status</a></div><div class="ttdeci">SystemError_t comm_format_ascii_motor_status(const MotorStatusResponse_t *status, char *ascii_buffer, size_t buffer_size)</div><div class="ttdoc">Format motor status as ASCII string.</div></div>
<div class="ttc" id="acomm__protocol_8h_html_a30e1e8eec2d093510d74230249d27b55"><div class="ttname"><a href="../../dc/d81/comm__protocol_8h.html#a30e1e8eec2d093510d74230249d27b55">comm_uart_rx_complete_callback</a></div><div class="ttdeci">void comm_uart_rx_complete_callback(UART_HandleTypeDef *huart)</div><div class="ttdoc">Process UART RX complete callback.</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d86/comm__protocol_8c_source.html#l00472">comm_protocol.c:472</a></div></div>
<div class="ttc" id="acomm__protocol_8h_html_a340f79521457a0301eed2325c7f72d79"><div class="ttname"><a href="../../dc/d81/comm__protocol_8h.html#a340f79521457a0301eed2325c7f72d79">CommProtocol_t</a></div><div class="ttdeci">CommProtocol_t</div><div class="ttdoc">Protocol types supported.</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d81/comm__protocol_8h_source.html#l00043">comm_protocol.h:43</a></div></div>
<div class="ttc" id="acomm__protocol_8h_html_a340f79521457a0301eed2325c7f72d79a4749920c397a74e47b6c0be3788fd996"><div class="ttname"><a href="../../dc/d81/comm__protocol_8h.html#a340f79521457a0301eed2325c7f72d79a4749920c397a74e47b6c0be3788fd996">PROTOCOL_ETHERNET_TCP</a></div><div class="ttdeci">@ PROTOCOL_ETHERNET_TCP</div><div class="ttdoc">TCP for reliable commands.</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d81/comm__protocol_8h_source.html#l00051">comm_protocol.h:50</a></div></div>
<div class="ttc" id="acomm__protocol_8h_html_a340f79521457a0301eed2325c7f72d79a65288caed41fcf7af33a05cc50e20a6d"><div class="ttname"><a href="../../dc/d81/comm__protocol_8h.html#a340f79521457a0301eed2325c7f72d79a65288caed41fcf7af33a05cc50e20a6d">PROTOCOL_I2C_AS5600</a></div><div class="ttdeci">@ PROTOCOL_I2C_AS5600</div><div class="ttdoc">AS5600 encoder protocol.</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d81/comm__protocol_8h_source.html#l00048">comm_protocol.h:48</a></div></div>
<div class="ttc" id="acomm__protocol_8h_html_a340f79521457a0301eed2325c7f72d79a9654d5ef90b2554fe46c83f35601d688"><div class="ttname"><a href="../../dc/d81/comm__protocol_8h.html#a340f79521457a0301eed2325c7f72d79a9654d5ef90b2554fe46c83f35601d688">PROTOCOL_ETHERNET_UDP</a></div><div class="ttdeci">@ PROTOCOL_ETHERNET_UDP</div><div class="ttdoc">UDP for real-time data.</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d81/comm__protocol_8h_source.html#l00049">comm_protocol.h:49</a></div></div>
<div class="ttc" id="acomm__protocol_8h_html_a340f79521457a0301eed2325c7f72d79a9cf3f6e2c6403cb6a92cfe4d637d1d9a"><div class="ttname"><a href="../../dc/d81/comm__protocol_8h.html#a340f79521457a0301eed2325c7f72d79a9cf3f6e2c6403cb6a92cfe4d637d1d9a">PROTOCOL_UART_BINARY</a></div><div class="ttdeci">@ PROTOCOL_UART_BINARY</div><div class="ttdoc">Binary protocol for efficiency.</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d81/comm__protocol_8h_source.html#l00045">comm_protocol.h:45</a></div></div>
<div class="ttc" id="acomm__protocol_8h_html_a340f79521457a0301eed2325c7f72d79aa279acee5fae6d65fde7e4bcff0999a2"><div class="ttname"><a href="../../dc/d81/comm__protocol_8h.html#a340f79521457a0301eed2325c7f72d79aa279acee5fae6d65fde7e4bcff0999a2">PROTOCOL_CAN_MOTOR</a></div><div class="ttdeci">@ PROTOCOL_CAN_MOTOR</div><div class="ttdoc">CAN motor control protocol.</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d81/comm__protocol_8h_source.html#l00046">comm_protocol.h:46</a></div></div>
<div class="ttc" id="acomm__protocol_8h_html_a340f79521457a0301eed2325c7f72d79aa86e1ffd39408ae0a5b47a018a7c314f"><div class="ttname"><a href="../../dc/d81/comm__protocol_8h.html#a340f79521457a0301eed2325c7f72d79aa86e1ffd39408ae0a5b47a018a7c314f">PROTOCOL_UART_ASCII</a></div><div class="ttdeci">@ PROTOCOL_UART_ASCII</div><div class="ttdoc">Human-readable ASCII commands.</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d81/comm__protocol_8h_source.html#l00044">comm_protocol.h:44</a></div></div>
<div class="ttc" id="acomm__protocol_8h_html_a340f79521457a0301eed2325c7f72d79aeeae78b80ff26c19998c851897c3402f"><div class="ttname"><a href="../../dc/d81/comm__protocol_8h.html#a340f79521457a0301eed2325c7f72d79aeeae78b80ff26c19998c851897c3402f">PROTOCOL_SPI_L6470</a></div><div class="ttdeci">@ PROTOCOL_SPI_L6470</div><div class="ttdoc">L6470 stepper driver protocol.</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d81/comm__protocol_8h_source.html#l00047">comm_protocol.h:47</a></div></div>
<div class="ttc" id="acomm__protocol_8h_html_a35dc399c53260c128281cb775b894f83"><div class="ttname"><a href="../../dc/d81/comm__protocol_8h.html#a35dc399c53260c128281cb775b894f83">comm_send_text_message</a></div><div class="ttdeci">SystemError_t comm_send_text_message(CommProtocol_t protocol, const char *message)</div><div class="ttdoc">Send text message via UART (for debugging)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d86/comm__protocol_8c_source.html#l00354">comm_protocol.c:354</a></div></div>
<div class="ttc" id="acomm__protocol_8h_html_a3e3d2a53cb83d6ccedb92b10ad27a746"><div class="ttname"><a href="../../dc/d81/comm__protocol_8h.html#a3e3d2a53cb83d6ccedb92b10ad27a746">debug_uart_init</a></div><div class="ttdeci">SystemError_t debug_uart_init(UART_HandleTypeDef *huart)</div><div class="ttdoc">Initialize debug UART for command interface.</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d86/comm__protocol_8c_source.html#l00145">comm_protocol.c:145</a></div></div>
<div class="ttc" id="acomm__protocol_8h_html_a4c2be170b34c1cb2513c622b5c7ea9f3"><div class="ttname"><a href="../../dc/d81/comm__protocol_8h.html#a4c2be170b34c1cb2513c622b5c7ea9f3">comm_process_message</a></div><div class="ttdeci">SystemError_t comm_process_message(const Message_t *message)</div><div class="ttdoc">Process received message.</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d86/comm__protocol_8c_source.html#l00224">comm_protocol.c:224</a></div></div>
<div class="ttc" id="acomm__protocol_8h_html_a65f597970f943203293cf5116120cc01"><div class="ttname"><a href="../../dc/d81/comm__protocol_8h.html#a65f597970f943203293cf5116120cc01">comm_set_channel_enabled</a></div><div class="ttdeci">SystemError_t comm_set_channel_enabled(CommProtocol_t protocol, bool enabled)</div><div class="ttdoc">Enable/disable communication channel.</div></div>
<div class="ttc" id="acomm__protocol_8h_html_a777290e1e24456f5f3a7d0e958424d3b"><div class="ttname"><a href="../../dc/d81/comm__protocol_8h.html#a777290e1e24456f5f3a7d0e958424d3b">comm_protocol_init</a></div><div class="ttdeci">SystemError_t comm_protocol_init(void)</div><div class="ttdoc">Initialize communication protocol system.</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d86/comm__protocol_8c_source.html#l00069">comm_protocol.c:69</a></div></div>
<div class="ttc" id="acomm__protocol_8h_html_a77fc976bbe9d0860870b0b36261c9b30"><div class="ttname"><a href="../../dc/d81/comm__protocol_8h.html#a77fc976bbe9d0860870b0b36261c9b30">comm_get_channel_config</a></div><div class="ttdeci">SystemError_t comm_get_channel_config(CommProtocol_t protocol, CommChannelConfig_t *config)</div><div class="ttdoc">Get communication channel statistics.</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d86/comm__protocol_8c_source.html#l00424">comm_protocol.c:424</a></div></div>
<div class="ttc" id="acomm__protocol_8h_html_a817fafa33a951722b8145f41f111e498"><div class="ttname"><a href="../../dc/d81/comm__protocol_8h.html#a817fafa33a951722b8145f41f111e498">comm_send_motor_command</a></div><div class="ttdeci">SystemError_t comm_send_motor_command(CommProtocol_t protocol, const MotorCommand_t *command)</div><div class="ttdoc">Send motor command via communication channel.</div></div>
<div class="ttc" id="acomm__protocol_8h_html_a91f037e55c9aff50f14e93d3b1b0c586"><div class="ttname"><a href="../../dc/d81/comm__protocol_8h.html#a91f037e55c9aff50f14e93d3b1b0c586">comm_can_rx_callback</a></div><div class="ttdeci">void comm_can_rx_callback(FDCAN_HandleTypeDef *hfdcan)</div><div class="ttdoc">Process received CAN message.</div></div>
<div class="ttc" id="acomm__protocol_8h_html_a935b4dbeb21ecbb753989a507449962f"><div class="ttname"><a href="../../dc/d81/comm__protocol_8h.html#a935b4dbeb21ecbb753989a507449962f">comm_protocol_task</a></div><div class="ttdeci">SystemError_t comm_protocol_task(void)</div><div class="ttdoc">Periodic communication task (call from main loop)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d86/comm__protocol_8c_source.html#l00374">comm_protocol.c:374</a></div></div>
<div class="ttc" id="acomm__protocol_8h_html_a95422968adc2a82fdf5fe46421e4263d"><div class="ttname"><a href="../../dc/d81/comm__protocol_8h.html#a95422968adc2a82fdf5fe46421e4263d">comm_protocol_self_test</a></div><div class="ttdeci">SystemError_t comm_protocol_self_test(void)</div><div class="ttdoc">Perform communication system self-test.</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d86/comm__protocol_8c_source.html#l00436">comm_protocol.c:436</a></div></div>
<div class="ttc" id="acomm__protocol_8h_html_a9a688eafe901ed1d9d1384f088d96862"><div class="ttname"><a href="../../dc/d81/comm__protocol_8h.html#a9a688eafe901ed1d9d1384f088d96862">comm_uart_tx_complete_callback</a></div><div class="ttdeci">void comm_uart_tx_complete_callback(UART_HandleTypeDef *huart)</div><div class="ttdoc">Process UART TX complete callback.</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d86/comm__protocol_8c_source.html#l00487">comm_protocol.c:487</a></div></div>
<div class="ttc" id="acomm__protocol_8h_html_aa15ec8d4711471207405c29ab399207e"><div class="ttname"><a href="../../dc/d81/comm__protocol_8h.html#aa15ec8d4711471207405c29ab399207e">comm_parse_ascii_motor_command</a></div><div class="ttdeci">SystemError_t comm_parse_ascii_motor_command(const char *ascii_command, MotorCommand_t *motor_command)</div><div class="ttdoc">Parse motor command from ASCII string.</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d86/comm__protocol_8c_source.html#l00300">comm_protocol.c:300</a></div></div>
<div class="ttc" id="acomm__protocol_8h_html_aa321ae7aa522c4c833c496b095fc62a9"><div class="ttname"><a href="../../dc/d81/comm__protocol_8h.html#aa321ae7aa522c4c833c496b095fc62a9">comm_can_init</a></div><div class="ttdeci">SystemError_t comm_can_init(FDCAN_HandleTypeDef *hfdcan)</div><div class="ttdoc">Initialize CAN communication channel.</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d86/comm__protocol_8c_source.html#l00176">comm_protocol.c:176</a></div></div>
<div class="ttc" id="acomm__protocol_8h_html_ab118c163ad567e8aba80951e7a2f72b2"><div class="ttname"><a href="../../dc/d81/comm__protocol_8h.html#ab118c163ad567e8aba80951e7a2f72b2">comm_process_ascii_command</a></div><div class="ttdeci">SystemError_t comm_process_ascii_command(const char *command_string)</div><div class="ttdoc">Process UART ASCII command.</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d86/comm__protocol_8c_source.html#l00270">comm_protocol.c:270</a></div></div>
<div class="ttc" id="acomm__protocol_8h_html_abfd8c320363bb55162c7a18d68aa2a53"><div class="ttname"><a href="../../dc/d81/comm__protocol_8h.html#abfd8c320363bb55162c7a18d68aa2a53">comm_uart_init</a></div><div class="ttdeci">SystemError_t comm_uart_init(UART_HandleTypeDef *huart, CommProtocol_t protocol)</div><div class="ttdoc">Initialize UART communication channel.</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d86/comm__protocol_8c_source.html#l00111">comm_protocol.c:111</a></div></div>
<div class="ttc" id="acomm__protocol_8h_html_adc01e0b71c6f5660f980ae57bb0ac769"><div class="ttname"><a href="../../dc/d81/comm__protocol_8h.html#adc01e0b71c6f5660f980ae57bb0ac769">comm_uart_error_callback</a></div><div class="ttdeci">void comm_uart_error_callback(UART_HandleTypeDef *huart)</div><div class="ttdoc">Process UART error callback.</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d86/comm__protocol_8c_source.html#l00498">comm_protocol.c:498</a></div></div>
<div class="ttc" id="acomm__protocol_8h_html_ae8e845f2ece1af735e5c207572036daf"><div class="ttname"><a href="../../dc/d81/comm__protocol_8h.html#ae8e845f2ece1af735e5c207572036daf">comm_channel_is_healthy</a></div><div class="ttdeci">bool comm_channel_is_healthy(CommProtocol_t protocol)</div><div class="ttdoc">Check communication channel health.</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d86/comm__protocol_8c_source.html#l00406">comm_protocol.c:406</a></div></div>
<div class="ttc" id="acomm__protocol_8h_html_afd32ad07822de353595293017c7470b4"><div class="ttname"><a href="../../dc/d81/comm__protocol_8h.html#afd32ad07822de353595293017c7470b4">MotorCommandType_t</a></div><div class="ttdeci">MotorCommandType_t</div><div class="ttdoc">Motor control command types.</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d81/comm__protocol_8h_source.html#l00095">comm_protocol.h:95</a></div></div>
<div class="ttc" id="acomm__protocol_8h_html_afd32ad07822de353595293017c7470b4a12f99be2f955755aeea5a25e50267bc7"><div class="ttname"><a href="../../dc/d81/comm__protocol_8h.html#afd32ad07822de353595293017c7470b4a12f99be2f955755aeea5a25e50267bc7">MOTOR_CMD_HOME</a></div><div class="ttdeci">@ MOTOR_CMD_HOME</div><div class="ttdoc">Home motor.</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d81/comm__protocol_8h_source.html#l00101">comm_protocol.h:101</a></div></div>
<div class="ttc" id="acomm__protocol_8h_html_afd32ad07822de353595293017c7470b4a18dd6c75aeb326c072ac339d154e2535"><div class="ttname"><a href="../../dc/d81/comm__protocol_8h.html#afd32ad07822de353595293017c7470b4a18dd6c75aeb326c072ac339d154e2535">MOTOR_CMD_MOVE_ABSOLUTE</a></div><div class="ttdeci">@ MOTOR_CMD_MOVE_ABSOLUTE</div><div class="ttdoc">Move to absolute position.</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d81/comm__protocol_8h_source.html#l00098">comm_protocol.h:98</a></div></div>
<div class="ttc" id="acomm__protocol_8h_html_afd32ad07822de353595293017c7470b4a2c75d397979f83c49c7ab758b8be2268"><div class="ttname"><a href="../../dc/d81/comm__protocol_8h.html#afd32ad07822de353595293017c7470b4a2c75d397979f83c49c7ab758b8be2268">MOTOR_CMD_GET_POSITION</a></div><div class="ttdeci">@ MOTOR_CMD_GET_POSITION</div><div class="ttdoc">Get current position.</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d81/comm__protocol_8h_source.html#l00105">comm_protocol.h:105</a></div></div>
<div class="ttc" id="acomm__protocol_8h_html_afd32ad07822de353595293017c7470b4a38faac39848ddd182863a9a814d67a24"><div class="ttname"><a href="../../dc/d81/comm__protocol_8h.html#afd32ad07822de353595293017c7470b4a38faac39848ddd182863a9a814d67a24">MOTOR_CMD_GET_STATUS</a></div><div class="ttdeci">@ MOTOR_CMD_GET_STATUS</div><div class="ttdoc">Get motor status.</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d81/comm__protocol_8h_source.html#l00104">comm_protocol.h:104</a></div></div>
<div class="ttc" id="acomm__protocol_8h_html_afd32ad07822de353595293017c7470b4a3cb648b47fda36e97f529810bc922885"><div class="ttname"><a href="../../dc/d81/comm__protocol_8h.html#afd32ad07822de353595293017c7470b4a3cb648b47fda36e97f529810bc922885">MOTOR_CMD_MOVE_RELATIVE</a></div><div class="ttdeci">@ MOTOR_CMD_MOVE_RELATIVE</div><div class="ttdoc">Move relative to current position.</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d81/comm__protocol_8h_source.html#l00099">comm_protocol.h:99</a></div></div>
<div class="ttc" id="acomm__protocol_8h_html_afd32ad07822de353595293017c7470b4a9e384d49f9376b4599b2b486f1dd39dd"><div class="ttname"><a href="../../dc/d81/comm__protocol_8h.html#afd32ad07822de353595293017c7470b4a9e384d49f9376b4599b2b486f1dd39dd">MOTOR_CMD_MOVE_CONTINUOUS</a></div><div class="ttdeci">@ MOTOR_CMD_MOVE_CONTINUOUS</div><div class="ttdoc">Continuous motion.</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d81/comm__protocol_8h_source.html#l00100">comm_protocol.h:100</a></div></div>
<div class="ttc" id="acomm__protocol_8h_html_afd32ad07822de353595293017c7470b4abc7e089cb6e63296820bc7f1ffcc12c9"><div class="ttname"><a href="../../dc/d81/comm__protocol_8h.html#afd32ad07822de353595293017c7470b4abc7e089cb6e63296820bc7f1ffcc12c9">MOTOR_CMD_CALIBRATE</a></div><div class="ttdeci">@ MOTOR_CMD_CALIBRATE</div><div class="ttdoc">Calibrate position.</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d81/comm__protocol_8h_source.html#l00102">comm_protocol.h:102</a></div></div>
<div class="ttc" id="acomm__protocol_8h_html_afd32ad07822de353595293017c7470b4ace570210de5896b81c77758a8f39bb45"><div class="ttname"><a href="../../dc/d81/comm__protocol_8h.html#afd32ad07822de353595293017c7470b4ace570210de5896b81c77758a8f39bb45">MOTOR_CMD_SET_POSITION</a></div><div class="ttdeci">@ MOTOR_CMD_SET_POSITION</div><div class="ttdoc">Set current position.</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d81/comm__protocol_8h_source.html#l00103">comm_protocol.h:103</a></div></div>
<div class="ttc" id="acomm__protocol_8h_html_afd32ad07822de353595293017c7470b4aeee277c322b6b661c84293599a6c882d"><div class="ttname"><a href="../../dc/d81/comm__protocol_8h.html#afd32ad07822de353595293017c7470b4aeee277c322b6b661c84293599a6c882d">MOTOR_CMD_EMERGENCY_STOP</a></div><div class="ttdeci">@ MOTOR_CMD_EMERGENCY_STOP</div><div class="ttdoc">Emergency stop.</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d81/comm__protocol_8h_source.html#l00097">comm_protocol.h:97</a></div></div>
<div class="ttc" id="acomm__protocol_8h_html_afd32ad07822de353595293017c7470b4af2c2fc3308c5742af621f7a66b4eeb27"><div class="ttname"><a href="../../dc/d81/comm__protocol_8h.html#afd32ad07822de353595293017c7470b4af2c2fc3308c5742af621f7a66b4eeb27">MOTOR_CMD_STOP</a></div><div class="ttdeci">@ MOTOR_CMD_STOP</div><div class="ttdoc">Stop motor.</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d81/comm__protocol_8h_source.html#l00096">comm_protocol.h:96</a></div></div>
<div class="ttc" id="acomm__protocol_8h_html_afd32ad07822de353595293017c7470b4af6191d8ec7a861ce944d10dc5e214ae8"><div class="ttname"><a href="../../dc/d81/comm__protocol_8h.html#afd32ad07822de353595293017c7470b4af6191d8ec7a861ce944d10dc5e214ae8">MOTOR_CMD_SELF_TEST</a></div><div class="ttdeci">@ MOTOR_CMD_SELF_TEST</div><div class="ttdoc">Perform self-test.</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d81/comm__protocol_8h_source.html#l00108">comm_protocol.h:107</a></div></div>
<div class="ttc" id="acomm__protocol_8h_html_afd32ad07822de353595293017c7470b4afa9cb04c9c77795e415e0bee3e042d1d"><div class="ttname"><a href="../../dc/d81/comm__protocol_8h.html#afd32ad07822de353595293017c7470b4afa9cb04c9c77795e415e0bee3e042d1d">MOTOR_CMD_SET_PARAMETERS</a></div><div class="ttdeci">@ MOTOR_CMD_SET_PARAMETERS</div><div class="ttdoc">Set motor parameters.</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d81/comm__protocol_8h_source.html#l00106">comm_protocol.h:106</a></div></div>
<div class="ttc" id="acomm__protocol_8h_html_afe90fdd729808eff4772906d9eeaad4e"><div class="ttname"><a href="../../dc/d81/comm__protocol_8h.html#afe90fdd729808eff4772906d9eeaad4e">comm_can_send_motor_command</a></div><div class="ttdeci">SystemError_t comm_can_send_motor_command(uint8_t motor_id, const MotorCommand_t *command)</div><div class="ttdoc">Send CAN motor command.</div></div>
<div class="ttc" id="adata__types_8h_html"><div class="ttname"><a href="../../d3/ddc/data__types_8h.html">data_types.h</a></div><div class="ttdoc">Common Data Types - Single Source of Truth (SSOT)</div></div>
<div class="ttc" id="aerror__codes_8h_html_ad18804b039d93258aac27507b1ad3756"><div class="ttname"><a href="../../de/d11/error__codes_8h.html#ad18804b039d93258aac27507b1ad3756">SystemError_t</a></div><div class="ttdeci">SystemError_t</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d11/error__codes_8h_source.html#l00043">error_codes.h:43</a></div></div>
<div class="ttc" id="asafety__config_8h_html"><div class="ttname"><a href="../../d3/d5c/safety__config_8h.html">safety_config.h</a></div><div class="ttdoc">Safety Configuration - Single Source of Truth (SSOT)</div></div>
<div class="ttc" id="asafety__system_8h_html"><div class="ttname"><a href="../../d2/db6/safety__system_8h.html">safety_system.h</a></div><div class="ttdoc">Safety System Manager - STM32H753ZI Stepper Motor Project.</div></div>
<div class="ttc" id="astructCommChannelConfig__t_html"><div class="ttname"><a href="../../d8/da6/structCommChannelConfig__t.html">CommChannelConfig_t</a></div><div class="ttdoc">Communication channel configuration.</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d81/comm__protocol_8h_source.html#l00077">comm_protocol.h:77</a></div></div>
<div class="ttc" id="astructCommChannelConfig__t_html_a5f0b6eb83f28be73ed9210b5b67f9fc3"><div class="ttname"><a href="../../d8/da6/structCommChannelConfig__t.html#a5f0b6eb83f28be73ed9210b5b67f9fc3">CommChannelConfig_t::timeout_ms</a></div><div class="ttdeci">uint32_t timeout_ms</div><div class="ttdoc">Communication timeout.</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d81/comm__protocol_8h_source.html#l00081">comm_protocol.h:81</a></div></div>
<div class="ttc" id="astructCommChannelConfig__t_html_a5f84f3d2288b7df1818b006e30a0b014"><div class="ttname"><a href="../../d8/da6/structCommChannelConfig__t.html#a5f84f3d2288b7df1818b006e30a0b014">CommChannelConfig_t::baudrate</a></div><div class="ttdeci">uint32_t baudrate</div><div class="ttdoc">Baudrate for serial protocols.</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d81/comm__protocol_8h_source.html#l00080">comm_protocol.h:80</a></div></div>
<div class="ttc" id="astructCommChannelConfig__t_html_a716d66866d3c762a3a2c1a2d6a00d11e"><div class="ttname"><a href="../../d8/da6/structCommChannelConfig__t.html#a716d66866d3c762a3a2c1a2d6a00d11e">CommChannelConfig_t::error_count</a></div><div class="ttdeci">uint32_t error_count</div><div class="ttdoc">Communication error count.</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d81/comm__protocol_8h_source.html#l00084">comm_protocol.h:84</a></div></div>
<div class="ttc" id="astructCommChannelConfig__t_html_a8448df602741318c9d70e1249faf6e17"><div class="ttname"><a href="../../d8/da6/structCommChannelConfig__t.html#a8448df602741318c9d70e1249faf6e17">CommChannelConfig_t::enabled</a></div><div class="ttdeci">bool enabled</div><div class="ttdoc">Channel enabled/disabled.</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d81/comm__protocol_8h_source.html#l00079">comm_protocol.h:79</a></div></div>
<div class="ttc" id="astructCommChannelConfig__t_html_a9f1dd8d588d1ecf0d21a1cbac30c26fa"><div class="ttname"><a href="../../d8/da6/structCommChannelConfig__t.html#a9f1dd8d588d1ecf0d21a1cbac30c26fa">CommChannelConfig_t::tx_count</a></div><div class="ttdeci">uint32_t tx_count</div><div class="ttdoc">Transmitted message count.</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d81/comm__protocol_8h_source.html#l00082">comm_protocol.h:82</a></div></div>
<div class="ttc" id="astructCommChannelConfig__t_html_aa61561ffeb917e2477bb3df4a2cc2f43"><div class="ttname"><a href="../../d8/da6/structCommChannelConfig__t.html#aa61561ffeb917e2477bb3df4a2cc2f43">CommChannelConfig_t::protocol</a></div><div class="ttdeci">CommProtocol_t protocol</div><div class="ttdoc">Protocol type.</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d81/comm__protocol_8h_source.html#l00078">comm_protocol.h:78</a></div></div>
<div class="ttc" id="astructCommChannelConfig__t_html_ac006319cdec4e3df111001909956a0ba"><div class="ttname"><a href="../../d8/da6/structCommChannelConfig__t.html#ac006319cdec4e3df111001909956a0ba">CommChannelConfig_t::last_activity</a></div><div class="ttdeci">uint32_t last_activity</div><div class="ttdoc">Last activity timestamp.</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d81/comm__protocol_8h_source.html#l00085">comm_protocol.h:85</a></div></div>
<div class="ttc" id="astructCommChannelConfig__t_html_acc843254a86019b3a7914357da93a591"><div class="ttname"><a href="../../d8/da6/structCommChannelConfig__t.html#acc843254a86019b3a7914357da93a591">CommChannelConfig_t::rx_count</a></div><div class="ttdeci">uint32_t rx_count</div><div class="ttdoc">Received message count.</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d81/comm__protocol_8h_source.html#l00083">comm_protocol.h:83</a></div></div>
<div class="ttc" id="astructMessage__t_html"><div class="ttname"><a href="../../de/d0a/structMessage__t.html">Message_t</a></div><div class="ttdoc">Complete message structure.</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d81/comm__protocol_8h_source.html#l00069">comm_protocol.h:69</a></div></div>
<div class="ttc" id="astructMessage__t_html_abf28ef83c9315df2335efe7b81c1212d"><div class="ttname"><a href="../../de/d0a/structMessage__t.html#abf28ef83c9315df2335efe7b81c1212d">Message_t::header</a></div><div class="ttdeci">MessageHeader_t header</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d81/comm__protocol_8h_source.html#l00070">comm_protocol.h:70</a></div></div>
<div class="ttc" id="astructMotorCommand__t_html"><div class="ttname"><a href="../../da/d7b/structMotorCommand__t.html">MotorCommand_t</a></div><div class="ttdoc">Motor command structure.</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d81/comm__protocol_8h_source.html#l00113">comm_protocol.h:113</a></div></div>
<div class="ttc" id="astructMotorCommand__t_html_a0d345cb43009db3a1ac20b4ebc3ce7d9"><div class="ttname"><a href="../../da/d7b/structMotorCommand__t.html#a0d345cb43009db3a1ac20b4ebc3ce7d9">MotorCommand_t::position_steps</a></div><div class="ttdeci">int32_t position_steps</div><div class="ttdoc">Target position for move commands.</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d81/comm__protocol_8h_source.html#l00118">comm_protocol.h:118</a></div></div>
<div class="ttc" id="astructMotorCommand__t_html_a42e569a39ad4e1c0891d1a760a949c1b"><div class="ttname"><a href="../../da/d7b/structMotorCommand__t.html#a42e569a39ad4e1c0891d1a760a949c1b">MotorCommand_t::speed_steps_per_sec</a></div><div class="ttdeci">uint32_t speed_steps_per_sec</div><div class="ttdoc">Speed for move commands.</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d81/comm__protocol_8h_source.html#l00119">comm_protocol.h:119</a></div></div>
<div class="ttc" id="astructMotorCommand__t_html_a91a402763a5231c95300c9b903bd8270"><div class="ttname"><a href="../../da/d7b/structMotorCommand__t.html#a91a402763a5231c95300c9b903bd8270">MotorCommand_t::command</a></div><div class="ttdeci">MotorCommandType_t command</div><div class="ttdoc">Command type.</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d81/comm__protocol_8h_source.html#l00115">comm_protocol.h:115</a></div></div>
<div class="ttc" id="astructMotorCommand__t_html_aaa6269944031838b1bf408c76be26842"><div class="ttname"><a href="../../da/d7b/structMotorCommand__t.html#aaa6269944031838b1bf408c76be26842">MotorCommand_t::motor_id</a></div><div class="ttdeci">uint8_t motor_id</div><div class="ttdoc">Target motor ID (0-based)</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d81/comm__protocol_8h_source.html#l00114">comm_protocol.h:114</a></div></div>
<div class="ttc" id="astructMotorCommand__t_html_aaf2151b3be855fbbbce7dcb91461cd11"><div class="ttname"><a href="../../da/d7b/structMotorCommand__t.html#aaf2151b3be855fbbbce7dcb91461cd11">MotorCommand_t::current_ma</a></div><div class="ttdeci">uint32_t current_ma</div><div class="ttdoc">Motor current in mA.</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d81/comm__protocol_8h_source.html#l00125">comm_protocol.h:125</a></div></div>
<div class="ttc" id="astructMotorCommand__t_html_ab94d58bba401f883278a84ded7da750e"><div class="ttname"><a href="../../da/d7b/structMotorCommand__t.html#ab94d58bba401f883278a84ded7da750e">MotorCommand_t::acceleration</a></div><div class="ttdeci">uint32_t acceleration</div><div class="ttdoc">Acceleration for move commands.</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d81/comm__protocol_8h_source.html#l00120">comm_protocol.h:120</a></div></div>
<div class="ttc" id="astructMotorCommand__t_html_aba67abcd555c7cf8a9eb2238083d7a83"><div class="ttname"><a href="../../da/d7b/structMotorCommand__t.html#aba67abcd555c7cf8a9eb2238083d7a83">MotorCommand_t::raw_data</a></div><div class="ttdeci">uint32_t raw_data</div><div class="ttdoc">Raw command data.</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d81/comm__protocol_8h_source.html#l00127">comm_protocol.h:127</a></div></div>
<div class="ttc" id="astructMotorCommand__t_html_ae7e1114089044edf9a37bb13ad5380cd"><div class="ttname"><a href="../../da/d7b/structMotorCommand__t.html#ae7e1114089044edf9a37bb13ad5380cd">MotorCommand_t::max_speed</a></div><div class="ttdeci">uint32_t max_speed</div><div class="ttdoc">Maximum speed parameter.</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d81/comm__protocol_8h_source.html#l00123">comm_protocol.h:123</a></div></div>
<div class="ttc" id="astructMotorStatusResponse__t_html"><div class="ttname"><a href="../../de/d97/structMotorStatusResponse__t.html">MotorStatusResponse_t</a></div><div class="ttdoc">Motor status response structure.</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d81/comm__protocol_8h_source.html#l00134">comm_protocol.h:134</a></div></div>
<div class="ttc" id="astructMotorStatusResponse__t_html_a4dd1efc1b6630b06867902ff1af24c96"><div class="ttname"><a href="../../de/d97/structMotorStatusResponse__t.html#a4dd1efc1b6630b06867902ff1af24c96">MotorStatusResponse_t::position_steps</a></div><div class="ttdeci">int32_t position_steps</div><div class="ttdoc">Current position in steps.</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d81/comm__protocol_8h_source.html#l00137">comm_protocol.h:137</a></div></div>
<div class="ttc" id="astructMotorStatusResponse__t_html_a53a3c23fc7cdb24402bf260c703961eb"><div class="ttname"><a href="../../de/d97/structMotorStatusResponse__t.html#a53a3c23fc7cdb24402bf260c703961eb">MotorStatusResponse_t::state</a></div><div class="ttdeci">uint8_t state</div><div class="ttdoc">Current motor state.</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d81/comm__protocol_8h_source.html#l00136">comm_protocol.h:136</a></div></div>
<div class="ttc" id="astructMotorStatusResponse__t_html_a79b118f544234f2b1a0595638d3774e9"><div class="ttname"><a href="../../de/d97/structMotorStatusResponse__t.html#a79b118f544234f2b1a0595638d3774e9">MotorStatusResponse_t::timestamp</a></div><div class="ttdeci">uint32_t timestamp</div><div class="ttdoc">Status timestamp.</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d81/comm__protocol_8h_source.html#l00140">comm_protocol.h:140</a></div></div>
<div class="ttc" id="astructMotorStatusResponse__t_html_a838cce6f8ec7aa16d52c392d9a7d442b"><div class="ttname"><a href="../../de/d97/structMotorStatusResponse__t.html#a838cce6f8ec7aa16d52c392d9a7d442b">MotorStatusResponse_t::speed_steps_per_sec</a></div><div class="ttdeci">uint32_t speed_steps_per_sec</div><div class="ttdoc">Current speed.</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d81/comm__protocol_8h_source.html#l00138">comm_protocol.h:138</a></div></div>
<div class="ttc" id="astructMotorStatusResponse__t_html_a928c98232973d808603a5839ff0aa102"><div class="ttname"><a href="../../de/d97/structMotorStatusResponse__t.html#a928c98232973d808603a5839ff0aa102">MotorStatusResponse_t::motor_id</a></div><div class="ttdeci">uint8_t motor_id</div><div class="ttdoc">Motor ID.</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d81/comm__protocol_8h_source.html#l00135">comm_protocol.h:135</a></div></div>
<div class="ttc" id="astructMotorStatusResponse__t_html_aa5345fa81f00557aef1cbf1650b8a7f1"><div class="ttname"><a href="../../de/d97/structMotorStatusResponse__t.html#aa5345fa81f00557aef1cbf1650b8a7f1">MotorStatusResponse_t::fault_flags</a></div><div class="ttdeci">uint32_t fault_flags</div><div class="ttdoc">Active fault flags.</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d81/comm__protocol_8h_source.html#l00139">comm_protocol.h:139</a></div></div>
<div class="ttc" id="astruct____attribute_____html_a12d6ff0210e1075cbc88708f28e9fb8b"><div class="ttname"><a href="../../dd/d3f/struct____attribute____.html#a12d6ff0210e1075cbc88708f28e9fb8b">__attribute__::payload_length</a></div><div class="ttdeci">uint16_t payload_length</div><div class="ttdoc">Payload size in bytes.</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d81/comm__protocol_8h_source.html#l00059">comm_protocol.h:59</a></div></div>
<div class="ttc" id="astruct____attribute_____html_a32d55f9924adc73f0c73bb3077849cc9"><div class="ttname"><a href="../../dd/d3f/struct____attribute____.html#a32d55f9924adc73f0c73bb3077849cc9">__attribute__::message_id</a></div><div class="ttdeci">uint16_t message_id</div><div class="ttdoc">Unique message identifier.</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d81/comm__protocol_8h_source.html#l00058">comm_protocol.h:58</a></div></div>
<div class="ttc" id="astruct____attribute_____html_a355adfb4bf7d1cdba8e744e8f8a911ce"><div class="ttname"><a href="../../dd/d3f/struct____attribute____.html#a355adfb4bf7d1cdba8e744e8f8a911ce">__attribute__::magic</a></div><div class="ttdeci">uint32_t magic</div><div class="ttdoc">0xDEADBEEF for validation</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d81/comm__protocol_8h_source.html#l00057">comm_protocol.h:57</a></div></div>
<div class="ttc" id="astruct____attribute_____html_a4165fcb6117b16f6f70dd3b031cc21ac"><div class="ttname"><a href="../../dd/d3f/struct____attribute____.html#a4165fcb6117b16f6f70dd3b031cc21ac">__attribute__::priority</a></div><div class="ttdeci">uint8_t priority</div><div class="ttdoc">Message priority (0=highest)</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d81/comm__protocol_8h_source.html#l00061">comm_protocol.h:61</a></div></div>
<div class="ttc" id="astruct____attribute_____html_a73a1f0d521c677a0f744d052b988f55d"><div class="ttname"><a href="../../dd/d3f/struct____attribute____.html#a73a1f0d521c677a0f744d052b988f55d">__attribute__::checksum</a></div><div class="ttdeci">uint16_t checksum</div><div class="ttdoc">CRC16 checksum.</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d81/comm__protocol_8h_source.html#l00062">comm_protocol.h:62</a></div></div>
<div class="ttc" id="astruct____attribute_____html_ad45e469ecebdc903d46b866981a617dc"><div class="ttname"><a href="../../dd/d3f/struct____attribute____.html#ad45e469ecebdc903d46b866981a617dc">__attribute__::timestamp_ms</a></div><div class="ttdeci">uint32_t timestamp_ms</div><div class="ttdoc">Message timestamp.</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d81/comm__protocol_8h_source.html#l00063">comm_protocol.h:63</a></div></div>
<div class="ttc" id="astruct____attribute_____html_affbab77e53871117ebed1abd5557d5fa"><div class="ttname"><a href="../../dd/d3f/struct____attribute____.html#affbab77e53871117ebed1abd5557d5fa">__attribute__::protocol_type</a></div><div class="ttdeci">uint8_t protocol_type</div><div class="ttdoc">CommProtocol_t value.</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d81/comm__protocol_8h_source.html#l00060">comm_protocol.h:60</a></div></div>
</div><!-- fragment --></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Tue Aug 5 2025 13:09:32 for STM32H753ZI Motor Control System by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="../../doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1
</small></address>
</body>
</html>
