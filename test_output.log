üß™ STM32H753ZI Host-based Unit Tests (Dual-Build System)
========================================================
‚úÖ Virtual environment activated
üßπ Cleaning previous host test builds...
üîß Using CMake-based host testing (dual-build system)...
-- The C compiler identification is GNU 11.4.0
-- Detecting C compiler ABI info
-- Detecting C compiler ABI info - done
-- Check for working C compiler: /usr/bin/cc - skipped
-- Detecting C compile features
-- Detecting C compile features - done
-- Adding host test: test_phase1_3_validation_host (source: /workspaces/code/host_tests/../tests/unit/test_phase1_3_validation.c)
-- Adding host test: test_safety_systems_hal_abstracted_host (source: /workspaces/code/host_tests/../tests/unit/test_safety_systems_hal_abstracted.c)
-- === Host Testing Configuration ===
-- Build type: Debug
-- Unity source: /workspaces/code/host_tests/../external/unity
-- Test unit dir: /workspaces/code/host_tests/../tests/unit
-- Test mocks dir: /workspaces/code/host_tests/../tests/mocks
-- Host testing: enabled
-- Simulation mode: enabled
-- Phase 1.3 tests: enabled
-- ===================================
-- Configuring done
-- Generating done
-- Build files have been written to: /workspaces/code/build_host_tests
[ 11%] Building C object CMakeFiles/unity_host.dir/workspaces/code/external/unity/unity.c.o
[ 22%] Linking C static library libunity_host.a
[ 22%] Built target unity_host
[ 33%] Building C object CMakeFiles/test_phase1_3_validation_host.dir/workspaces/code/tests/unit/test_phase1_3_validation.c.o
/workspaces/code/tests/unit/test_phase1_3_validation.c: In function 'test_data_validation':
/workspaces/code/tests/unit/test_phase1_3_validation.c:325:39: warning: the comparison will always evaluate as 'true' for the address of 'test_dataset' will never be NULL [-Waddress]
  325 |     bool valid_check = (&test_dataset != NULL);
      |                                       ^~
[ 44%] Building C object CMakeFiles/test_phase1_3_validation_host.dir/workspaces/code/tests/mocks/mock_hal_abstraction.c.o
[ 55%] Linking C executable test_phase1_3_validation_host
[ 55%] Built target test_phase1_3_validation_host
[ 66%] Building C object CMakeFiles/test_safety_systems_hal_abstracted_host.dir/workspaces/code/tests/unit/test_safety_systems_hal_abstracted.c.o
[ 77%] Building C object CMakeFiles/test_safety_systems_hal_abstracted_host.dir/workspaces/code/tests/mocks/mock_hal_abstraction.c.o
[ 88%] Building C object CMakeFiles/test_safety_systems_hal_abstracted_host.dir/workspaces/code/src/safety/emergency_stop_abstracted.c.o
[100%] Linking C executable test_safety_systems_hal_abstracted_host
[100%] Built target test_safety_systems_hal_abstracted_host
üèÉ Running host-based unit tests via CTest...
UpdateCTestConfiguration  from :/workspaces/code/build_host_tests/DartConfiguration.tcl
UpdateCTestConfiguration  from :/workspaces/code/build_host_tests/DartConfiguration.tcl
Test project /workspaces/code/build_host_tests
Constructing a list of tests
Done constructing a list of tests
Updating test list for fixtures
Added 0 tests to meet fixture requirements
Checking test dependency graph...
Checking test dependency graph end
test 1
    Start 1: test_phase1_3_validation_host

1: Test command: /workspaces/code/build_host_tests/test_phase1_3_validation_host
1: Test timeout computed to be: 10000000
1: /workspaces/code/tests/unit/test_phase1_3_validation.c:355:test_telemetry_packet_basic:PASS
1: /workspaces/code/tests/unit/test_phase1_3_validation.c:356:test_dataset_sample_addition:PASS
1: /workspaces/code/tests/unit/test_phase1_3_validation.c:357:test_dataset_overflow_protection:PASS
1: /workspaces/code/tests/unit/test_phase1_3_validation.c:360:test_safety_bounds_validation:PASS
1: /workspaces/code/tests/unit/test_phase1_3_validation.c:361:test_data_validation:PASS
1: /workspaces/code/tests/unit/test_phase1_3_validation.c:364:test_time_constant_identification:PASS
1: /workspaces/code/tests/unit/test_phase1_3_validation.c:365:test_mathematical_accuracy:PASS
1: /workspaces/code/tests/unit/test_phase1_3_validation.c:246:test_l6470_parameter_calculation:FAIL: Expected 0 to be greater than 0
1: /workspaces/code/tests/unit/test_phase1_3_validation.c:371:test_performance_timing:PASS
1: /workspaces/code/tests/unit/test_phase1_3_validation.c:372:test_memory_usage:PASS
1: -----------------------
1: 10 Tests 1 Failures 0 Ignored 
1: FAIL
1/2 Test #1: test_phase1_3_validation_host .............***Failed    0.04 sec
/workspaces/code/tests/unit/test_phase1_3_validation.c:355:test_telemetry_packet_basic:PASS
/workspaces/code/tests/unit/test_phase1_3_validation.c:356:test_dataset_sample_addition:PASS
/workspaces/code/tests/unit/test_phase1_3_validation.c:357:test_dataset_overflow_protection:PASS
/workspaces/code/tests/unit/test_phase1_3_validation.c:360:test_safety_bounds_validation:PASS
/workspaces/code/tests/unit/test_phase1_3_validation.c:361:test_data_validation:PASS
/workspaces/code/tests/unit/test_phase1_3_validation.c:364:test_time_constant_identification:PASS
/workspaces/code/tests/unit/test_phase1_3_validation.c:365:test_mathematical_accuracy:PASS
/workspaces/code/tests/unit/test_phase1_3_validation.c:246:test_l6470_parameter_calculation:FAIL: Expected 0 to be greater than 0
/workspaces/code/tests/unit/test_phase1_3_validation.c:371:test_performance_timing:PASS
/workspaces/code/tests/unit/test_phase1_3_validation.c:372:test_memory_usage:PASS

-----------------------
10 Tests 1 Failures 0 Ignored 
FAIL

test 2
    Start 2: test_safety_systems_hal_abstracted_host

2: Test command: /workspaces/code/build_host_tests/test_safety_systems_hal_abstracted_host
2: Test timeout computed to be: 10000000
2/2 Test #2: test_safety_systems_hal_abstracted_host ...***Exception: SegFault  0.01 sec


0% tests passed, 2 tests failed out of 2

Total Test time (real) =   0.08 sec

The following tests FAILED:
	  1 - test_phase1_3_validation_host (Failed)
	  2 - test_safety_systems_hal_abstracted_host (SEGFAULT)
Errors while running CTest
