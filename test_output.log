üß™ STM32H753ZI Host-based Unit Tests (Dual-Build System)
========================================================
‚úÖ Virtual environment activated
üßπ Cleaning previous host test builds...
üîß Using CMake-based host testing (dual-build system)...
-- The C compiler identification is GNU 11.4.0
-- Detecting C compiler ABI info
-- Detecting C compiler ABI info - done
-- Check for working C compiler: /usr/bin/cc - skipped
-- Detecting C compile features
-- Detecting C compile features - done
-- Adding host test: test_phase1_3_validation_host (source: /workspaces/code/host_tests/../tests/unit/test_phase1_3_validation.c)
-- Adding host test: test_safety_systems_hal_abstracted_host (source: /workspaces/code/host_tests/../tests/unit/test_safety_systems_hal_abstracted.c)
-- === Host Testing Configuration ===
-- Build type: Debug
-- Unity source: /workspaces/code/host_tests/../external/unity
-- Test unit dir: /workspaces/code/host_tests/../tests/unit
-- Test mocks dir: /workspaces/code/host_tests/../tests/mocks
-- Host testing: enabled
-- Simulation mode: enabled
-- Phase 1.3 tests: enabled
-- ===================================
-- Configuring done
-- Generating done
-- Build files have been written to: /workspaces/code/build_host_tests
[  9%] Building C object CMakeFiles/unity_host.dir/workspaces/code/external/unity/unity.c.o
[ 18%] Linking C static library libunity_host.a
[ 18%] Built target unity_host
[ 27%] Building C object CMakeFiles/test_phase1_3_validation_host.dir/workspaces/code/tests/unit/test_phase1_3_validation.c.o
/workspaces/code/tests/unit/test_phase1_3_validation.c: In function ‚Äòtest_data_validation‚Äô:
/workspaces/code/tests/unit/test_phase1_3_validation.c:337:39: warning: the comparison will always evaluate as ‚Äòtrue‚Äô for the address of ‚Äòtest_dataset‚Äô will never be NULL [-Waddress]
  337 |     bool valid_check = (&test_dataset != NULL);
      |                                       ^~
[ 36%] Building C object CMakeFiles/test_phase1_3_validation_host.dir/workspaces/code/tests/mocks/mock_hal_abstraction.c.o
[ 45%] Building C object CMakeFiles/test_phase1_3_validation_host.dir/workspaces/code/tests/mocks/mock_drivers.c.o
[ 54%] Linking C executable test_phase1_3_validation_host
[ 54%] Built target test_phase1_3_validation_host
[ 63%] Building C object CMakeFiles/test_safety_systems_hal_abstracted_host.dir/workspaces/code/tests/unit/test_safety_systems_hal_abstracted.c.o
[ 72%] Building C object CMakeFiles/test_safety_systems_hal_abstracted_host.dir/workspaces/code/tests/mocks/mock_hal_abstraction.c.o
[ 81%] Building C object CMakeFiles/test_safety_systems_hal_abstracted_host.dir/workspaces/code/tests/mocks/mock_drivers.c.o
[ 90%] Building C object CMakeFiles/test_safety_systems_hal_abstracted_host.dir/workspaces/code/src/safety/emergency_stop_abstracted.c.o
[100%] Linking C executable test_safety_systems_hal_abstracted_host
[100%] Built target test_safety_systems_hal_abstracted_host
üèÉ Running host-based unit tests via CTest...
UpdateCTestConfiguration  from :/workspaces/code/build_host_tests/DartConfiguration.tcl
UpdateCTestConfiguration  from :/workspaces/code/build_host_tests/DartConfiguration.tcl
Test project /workspaces/code/build_host_tests
Constructing a list of tests
Done constructing a list of tests
Updating test list for fixtures
Added 0 tests to meet fixture requirements
Checking test dependency graph...
Checking test dependency graph end
test 1
    Start 1: test_phase1_3_validation_host

1: Test command: /workspaces/code/build_host_tests/test_phase1_3_validation_host
1: Test timeout computed to be: 10000000
1: /workspaces/code/tests/unit/test_phase1_3_validation.c:367:test_telemetry_packet_basic:PASS
1: /workspaces/code/tests/unit/test_phase1_3_validation.c:368:test_dataset_sample_addition:PASS
1: /workspaces/code/tests/unit/test_phase1_3_validation.c:369:test_dataset_overflow_protection:PASS
1: /workspaces/code/tests/unit/test_phase1_3_validation.c:372:test_safety_bounds_validation:PASS
1: /workspaces/code/tests/unit/test_phase1_3_validation.c:373:test_data_validation:PASS
1: /workspaces/code/tests/unit/test_phase1_3_validation.c:376:test_time_constant_identification:PASS
1: /workspaces/code/tests/unit/test_phase1_3_validation.c:377:test_mathematical_accuracy:PASS
1: /workspaces/code/tests/unit/test_phase1_3_validation.c:247:test_l6470_parameter_calculation:FAIL: Expected 0 to be greater than 0
1: /workspaces/code/tests/unit/test_phase1_3_validation.c:383:test_performance_timing:PASS
1: /workspaces/code/tests/unit/test_phase1_3_validation.c:384:test_memory_usage:PASS
1: 
1: -----------------------
1: 10 Tests 1 Failures 0 Ignored 
1: FAIL
1/2 Test #1: test_phase1_3_validation_host .............***Failed    0.01 sec
/workspaces/code/tests/unit/test_phase1_3_validation.c:367:test_telemetry_packet_basic:PASS
/workspaces/code/tests/unit/test_phase1_3_validation.c:368:test_dataset_sample_addition:PASS
/workspaces/code/tests/unit/test_phase1_3_validation.c:369:test_dataset_overflow_protection:PASS
/workspaces/code/tests/unit/test_phase1_3_validation.c:372:test_safety_bounds_validation:PASS
/workspaces/code/tests/unit/test_phase1_3_validation.c:373:test_data_validation:PASS
/workspaces/code/tests/unit/test_phase1_3_validation.c:376:test_time_constant_identification:PASS
/workspaces/code/tests/unit/test_phase1_3_validation.c:377:test_mathematical_accuracy:PASS
/workspaces/code/tests/unit/test_phase1_3_validation.c:247:test_l6470_parameter_calculation:FAIL: Expected 0 to be greater than 0
/workspaces/code/tests/unit/test_phase1_3_validation.c:383:test_performance_timing:PASS
/workspaces/code/tests/unit/test_phase1_3_validation.c:384:test_memory_usage:PASS

-----------------------
10 Tests 1 Failures 0 Ignored 
FAIL

test 2
    Start 2: test_safety_systems_hal_abstracted_host

2: Test command: /workspaces/code/build_host_tests/test_safety_systems_hal_abstracted_host
2: Test timeout computed to be: 10000000
2: /workspaces/code/tests/unit/test_safety_systems_hal_abstracted.c:529:test_emergency_stop_init_success:PASS
2: /workspaces/code/tests/unit/test_safety_systems_hal_abstracted.c:530:test_emergency_stop_init_gpio_failure:PASS
2: /workspaces/code/tests/unit/test_safety_systems_hal_abstracted.c:533:test_emergency_stop_button_press:PASS
2: /workspaces/code/tests/unit/test_safety_systems_hal_abstracted.c:534:test_emergency_stop_button_debounce:PASS
2: /workspaces/code/tests/unit/test_safety_systems_hal_abstracted.c:535:test_emergency_stop_timing_requirement:PASS
2: /workspaces/code/tests/unit/test_safety_systems_hal_abstracted.c:538:test_emergency_stop_software_trigger:PASS
2: /workspaces/code/tests/unit/test_safety_systems_hal_abstracted.c:539:test_emergency_stop_multiple_sources:PASS
2: /workspaces/code/tests/unit/test_safety_systems_hal_abstracted.c:542:test_emergency_stop_reset_success:PASS
2: /workspaces/code/tests/unit/test_safety_systems_hal_abstracted.c:543:test_emergency_stop_reset_button_pressed:PASS
2: /workspaces/code/tests/unit/test_safety_systems_hal_abstracted.c:544:test_emergency_stop_reset_not_triggered:PASS
2: /workspaces/code/tests/unit/test_safety_systems_hal_abstracted.c:547:test_emergency_stop_led_heartbeat_armed:PASS
2: /workspaces/code/tests/unit/test_safety_systems_hal_abstracted.c:548:test_emergency_stop_led_triggered_state:PASS
2: /workspaces/code/tests/unit/test_safety_systems_hal_abstracted.c:551:test_emergency_stop_self_test_success:PASS
2: /workspaces/code/tests/unit/test_safety_systems_hal_abstracted.c:552:test_emergency_stop_self_test_gpio_failure:PASS
2: /workspaces/code/tests/unit/test_safety_systems_hal_abstracted.c:555:test_emergency_stop_statistics:PASS
2: /workspaces/code/tests/unit/test_safety_systems_hal_abstracted.c:558:test_emergency_stop_health_check_success:PASS
2: /workspaces/code/tests/unit/test_safety_systems_hal_abstracted.c:559:test_emergency_stop_health_check_not_initialized:PASS
2: /workspaces/code/tests/unit/test_safety_systems_hal_abstracted.c:562:test_hal_abstraction_gpio_operations:PASS
2: /workspaces/code/tests/unit/test_safety_systems_hal_abstracted.c:563:test_hal_abstraction_fault_injection:PASS
2: /workspaces/code/tests/unit/test_safety_systems_hal_abstracted.c:564:test_hal_abstraction_timing_functions:PASS
2: /workspaces/code/tests/unit/test_safety_systems_hal_abstracted.c:565:test_hal_abstraction_spi_operations:PASS
2: /workspaces/code/tests/unit/test_safety_systems_hal_abstracted.c:566:test_hal_abstraction_i2c_operations:PASS
2: /workspaces/code/tests/unit/test_safety_systems_hal_abstracted.c:569:test_hal_abstraction_integration_emergency_stop_full_cycle:PASS
2: 
2: -----------------------
2: 23 Tests 0 Failures 0 Ignored 
2: OK
2/2 Test #2: test_safety_systems_hal_abstracted_host ...   Passed    0.01 sec

50% tests passed, 1 tests failed out of 2

Total Test time (real) =   0.03 sec

The following tests FAILED:
	  1 - test_phase1_3_validation_host (Failed)
Errors while running CTest
